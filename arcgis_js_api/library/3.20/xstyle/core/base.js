//>>built
define("xstyle/core/base","xstyle/core/elemental xstyle/core/expression xstyle/core/Definition xstyle/core/utils put-selector/put xstyle/core/Rule xstyle/core/es6".split(" "),function(r,g,t,h,x,k,B){function l(b,a,d){function c(a){return{selectElement:function(e){d.newElement&&(e=e.parentNode);if(a&&a.selector)for(;!u(e,a);)if(e=e.parentNode,!e)throw Error("Rule not found");if(d.inherit)for(;!(b in e);)if(e=e.parentNode,!e)throw Error(b?b+" not found":"Property was never defined");return e},forElement:function(e){var c=
e;e=this.selectElement(e);d.newElement&&(e["_"+b+"Node"]=c);e=d.get?d.get(e,b):e[b];return void 0===e&&a?n(b).valueOf().forRule(a):e},forRule:d.inherit&&function(b){return c(b)}}}var f=new t(function(){return c(a)});f.define=function(a,c){return l(b||c,a,d)};f.keepCSSValue=!0;f.put=d.inherit?function(a,d){return n(b).put(a,d,b)}:function(c){return{forElement:function(e){if(a&&a.selector)for(;!u(e,a);)if(e=e.parentNode,!e)throw Error("Rule not found");d.set?d.set(e,b,c):e[b]=c;f.invalidate({elements:[e]})}}};
return f}function C(b,a,d,c){return h.when(g.evaluate(b,d),function(a){a.forElement?r.addRenderer(b,function(b){c(a.forElement(b),b)}):c(a)})}function v(b,a){return{apply:function(d,c,f){C(d,f,c[0],function(c,e){c.observe(function(c){c=c?b:a;value.toString().replace(new RegExp(b+"\\([^)]+\\)","g"),c);e?e.style[f]=c:d.setStyle(f,c)})})}}}function y(b,a){var d=b.variables;if(d&&a in d)return d[a];if(d=b.bases)for(var c=0;c<d.length;c++){var f=y(d[c],a);if(void 0!==f)return f}}function n(b){var a=z[b];
a||(a=z[b]=new t(function(){return{forRule:function(a){a:{do{var c=y(a,b);if(void 0!==c){a=c;break a}a=a.parent}while(a);a=void 0}return a}}}),a.put=function(b,c,f){return{forRule:function(c){function d(a){m.push(a);for(var b in a.rules)d(a.rules[b])}(c.variables||(c.variables={}))[f]=b;for(var m=[];c;)d(c),c=c.parent;a.invalidate({rules:m})}}});return a}var w=x("div"),p=navigator.userAgent,A=-1<p.indexOf("WebKit")?"-webkit-":-1<p.indexOf("Firefox")?"-moz-":-1<p.indexOf("MSIE")?"-ms-":-1<p.indexOf("Opera")?
"-o-":"",q;k=new k;var u=r.matchesRule;k.root=!0;var z={};k.definitions={Math:Math,window:window,global:window,module:g.selfResolving(function(b,a){b[0].value&&(b=b[0].value);a||require([b]);return{then:function(a){return(new B.Promise(function(a){require([b],function(b){a(b)})})).then(a)}}}),item:l("item",null,{inherit:!0}),pageContent:new t,content:l("content",null,{inherit:!0,newElement:function(){return this.element}}),elementProperty:l(null,null,{}),elementClass:l(null,null,{get:function(b,a){return-1<
(" "+b.className+" ").indexOf(" "+a+" ")},set:function(b,a,d){this.get(b,a)!=d&&(b.className=d?b.className+(" "+a):(" "+b.className+" ").replace(" "+a+" ","").replace(/^ +| +$/g,""))}}),element:{forElement:function(b){return b},define:function(b){return{forElement:function(a){for(;!u(a,b);)if(a=a.parentNode,!a)throw Error("Rule not found");return a}}}},event:{observe:function(b){b(q)},valueOf:function(){return q}},each:{put:function(b){return{forRule:function(a){a.each=b}}}},prefix:{put:function(b,
a,d){return{forRule:function(a){if("string"==typeof w.style[A+d])return a._setStyleFromValue(A+d,b),!0}}}},"var":{define:function(b,a){return n(a)},selfResolving:!0,apply:function(b,a){return n(h.convertCssNameToJs(a[0]))}},inline:v("inline","none"),block:v("block","none"),visible:v("visible","hidden"),"extends":{apply:function(b,a){for(;0<a.length;)return h.extend(b,a[0],console.error)}},set:{selfExecuting:!0,apply:function(b,a){return a[0].put(a[1].valueOf())}},get:{apply:function(b,a){return a[0]},
put:function(b,a){g.evaluate(a,b)}},toggle:{selfExecuting:!0,apply:function(b,a){return a[0].put(!a[0].valueOf())}},on:{put:function(b,a,d){return{forRule:function(a){r.on(document,d.charAt(2).toLowerCase()+d.slice(3),a,function(c){q=c;try{h.when(g.evaluate(a,b).valueOf(),function(b){b&&b.forRule&&(b=b.forRule(a));b&&b.forElement&&(b=b.forElement(c.target));q=null},function(a){console.error("Error in "+d+" event handler, executing "+b,a)})}catch(m){console.error("Error in "+d+" event handler, executing "+
b,m)}})}}}},title:{put:function(b){return{forRule:function(a){g.observe(g.evaluate(a,b),function(a){document.title=a})}}}},"@supports":{selector:function(b){function a(b){var c;if(c=b.match(/^\s*not(.*)/))return!a(c[1]);if(c=b.match(/\((.*)\)/))return a(c[1]);if(c=b.match(/([^:]*):(.*)/))return b=h.convertCssNameToJs(c[1]),c=w.style[b]=c[2],w.style[b]==c;if(c=b.match(/\w+\[(.*)=(.*)\]/))return x(c[0])[c[1]]==c[2];if(c=b.match(/\w+/))return h.isTagSupported(c);throw Error("can't parse @supports string");
}a(b.selector.slice(10))?b.selector="":b.disabled=!0}},"true":!0,"false":!1,"null":null};k.elementProperty=l;return k});