// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.20/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/views/vectorTiles/style/StyleProperty",["require","exports","../../../Color","../GeometryUtils"],function(n,p,m,k){return function(){function e(a,d){var g;switch(a.type){case "number":g=!0;break;case "color":g=!0;d=e._parseColor(d);break;case "array":g="number"===a.value;break;default:g=!1}this.getValue=g?this._interpolate(d):this._piecewise(d)}e.prototype._piecewise=function(a){var d=a.stops;return d?function(a){var l=d.length;if(0!==l){for(var b=0,c=0;c<l;c++)if(d[c][0]<=
a)b=c;else break;return d[b][1]}}:function(){return a}};e.prototype._interpolate=function(a){var d=a.stops;if(d){var g=a.base||1;return function(a){for(var b,c,e=d.length,f=0;f<e;f++){var h=d[f];if(h[0]<=a)b=h;else{c=h;break}}if(b&&c){f=c[0]-b[0];a-=b[0];a=1===g?a/f:(Math.pow(g,a)-1)/(Math.pow(g,f)-1);if(Array.isArray(b[1])){b=b[1];c=c[1];e=[];for(f=0;f<b.length;f++)e.push(k.interpolate(b[f],c[f],a));return e}return k.interpolate(b[1],c[1],a)}if(b)return b[1];if(c)return c[1]}}return function(){return a}};
e._parseColor=function(a){if(Array.isArray(a))return a;if("string"===typeof a)return a=new m(a),[a.r/255,a.g/255,a.b/255,a.a||1];if(a&&a.stops)return a.stops=a.stops.map(function(a){return[a[0],e._parseColor(a[1])]}),a;throw Error("Incorrect color definition "+a);};return e}()});