// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.20/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/views/vectorTiles/tileRendererHelper3D",["require","exports","dojo/has","../../core/libs/gl-matrix/vec3","../../core/libs/gl-matrix/mat4"],function(w,x,t,u,p){var v={extent:{xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:{wkid:102100,isWrappable:!0},intersects:function(a){return!1}},center:[0,0],scale:1,resolution:1,rotation:0,width:1,height:1,size:[256,256],spatialReference:{wkid:102100,isWrappable:!0},worldScreenWidth:1,viewpoint:{},toMap:function(a,b){return[0,0]},
toScreen:function(a,b){return[0,0]},clone:function(){return null}},q=u.create();return function(a,b,c,l,f,g,k,m,d,e,h,n){d=[b[0],b[1],b[2]];for(var r=e;1>r;r*=2)d[0]--,d[1]>>=1,d[2]>>=1;b={context:a,budget:null,state:v,stationary:!0,devicePixelRatio:1,displayLevel:f.adjustLevel(g),requiredLevel:f.adjustLevel(b[0]),drawphase:0,renderer:l,layerOpacity:n};if(k!==m)throw Error("It is expected that tiles are square!");g=1/e;f=f.getSchemaShift(d,g);n=f[1];c.tileTransform.displayCoord[0]=-1-2*g*h[0]-f[0];
c.tileTransform.displayCoord[1]=1+2*g*(1-h[1]-e)+n;e=c.tileTransform.transform;p.identity(e);h=.25*g/k;q.set([h,-h,1]);p.scale(e,e,q);a.setBlendFunctionSeparate(1,771,1,771);a.setClearDepth(1);a.clear(a.gl.DEPTH_BUFFER_BIT);b.state.size=[k,m];b.state.width=k;b.state.height=m;l.setStateParams(b.state,b.devicePixelRatio,d[0]);c.attach(b);a.setFaceCullingEnabled(!1);a.setDepthFunction(515);a.setBlendingEnabled(!1);a.setDepthTestEnabled(!0);a.setDepthWriteEnabled(!0);c.render(b);a.setDepthWriteEnabled(!1);
a.setBlendingEnabled(!0);b.drawphase=1;c.render(b);b.drawphase=2;c.render(b);t("esri-vector-tiles-debug")&&l.renderTileInfo(a,c);a.setDepthWriteEnabled(!0);a.setDepthTestEnabled(!1);a.setFaceCullingEnabled(!0)}});