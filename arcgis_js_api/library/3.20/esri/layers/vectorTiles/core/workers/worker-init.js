// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.20/esri/copyright.txt for details.
//>>built
(function(g,n){var m,l=function(){},p=function(a){for(var d in a)return 0;return 1},x={}.toString,q=function(a){return"[object Function]"==x.call(a)},u=function(a){return"[object String]"==x.call(a)},c=function(a){return"[object Array]"==x.call(a)},b=function(a,d){if(a)for(var b=0;b<a.length;)d(a[b++])},e=function(a,d){for(var b in d)a[b]=d[b];return a},f=function(a,d){return e(Error(a),{src:"dojoLoader",info:d})},y=1,oa=function(){return"_"+y++},k=function(a,d,b){return pa(a,d,b,0,k)},F=this,M=F.document,
Ia=M&&M.createElement("DiV"),r=k.has=function(a){return q(D[a])?D[a]=D[a](F,M,Ia):D[a]},D=r.cache=n.hasCache;r.add=function(a,d,b,h){(void 0===D[a]||h)&&(D[a]=d);return b&&r(a)};e(n.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0});n.loaderPatch={injectUrl:function(a,d){try{importScripts(a),d()}catch(t){console.info("failed to load resource ("+a+")"),console.error(t)}}};for(var A in g.has)r.add(A,g.has[A],0,1);
k.async=1;var Ja=r("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");k.eval=function(a,d){return Ja(a+"\r\n//# sourceURL\x3d"+d)};var aa={},C=k.signal=function(a,d){var t=aa[a];b(t&&t.slice(0),function(a){a.apply(null,c(d)?d:[d])})},N=k.on=function(a,d){var b=aa[a]||(aa[a]=[]);b.push(d);return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===d){b.splice(a,1);break}}}},qa=[],Ka={},ra=[],G={},sa=k.map={},O=[],v={},ba="",H={},P={};A={};var da=function(a){var d,b,h,e;for(d in P)b=
P[d],(h=d.match(/^url\:(.+)/))?H["url:"+ta(h[1],a)]=b:"*now"==d?e=b:"*noref"!=d&&(h=R(d,a,!0),H[h.mid]=H["url:"+h.url]=b);e&&e(ca(a));P={}},ua=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},ea=function(a,d){d.splice(0,d.length);for(var b in a)d.push([b,a[b],new RegExp("^"+ua(b)+"(/|$)"),b.length]);d.sort(function(a,b){return b[3]-a[3]});return d},La=function(a,d){b(a,function(a){d.push([u(a[0])?new RegExp("^"+ua(a[0])+"$"):a[0],a[1]])})},va=function(a){var b=
a.name;b||(b=a,a={name:b});a=e({main:"main"},a);a.location=a.location?a.location:b;a.packageMap&&(sa[b]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));G[b]=a},wa=[],J=function(a,d,t){for(var h in a){"waitSeconds"==h&&(k.waitms=1E3*(a[h]||0));"cacheBust"==h&&(ba=a[h]?u(a[h])?a[h]:(new Date).getTime()+"":"");if("baseUrl"==h||"combo"==h)k[h]=a[h];a[h]!==D&&(k.rawConfig[h]=a[h],"has"!=h&&r.add("config-"+h,a[h],0,d))}k.baseUrl||(k.baseUrl="./");/\/$/.test(k.baseUrl)||(k.baseUrl+="/");
for(h in a.has)r.add(h,a.has[h],0,d);b(a.packages,va);for(var f in a.packagePaths)b(a.packagePaths[f],function(a){var b=f+"/"+a;u(a)&&(a={name:a});a.location=b;va(a)});ea(e(sa,a.map),O);b(O,function(a){a[1]=ea(a[1],[]);"*"==a[0]&&(O.star=a)});ea(e(Ka,a.paths),ra);La(a.aliases,qa);if(d)wa.push({config:a.config});else for(h in a.config)d=E(h,t),d.config=e(d.config||{},a.config[h]);a.cache&&(da(),P=a.cache,a.cache["*noref"]&&da());C("config",[a,k.rawConfig])};if(r("dojo-cdn")){var xa=M.getElementsByTagName("script");
m=0;for(var S,w,T,K;m<xa.length;)if(S=xa[m++],(T=S.getAttribute("src"))&&(K=T.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(w=K[3]||"",n.baseUrl=n.baseUrl||w),T=S.getAttribute("data-dojo-config")||S.getAttribute("djConfig"))A=k.eval("({ "+T+" })","data-dojo-config")}k.rawConfig={};J(n,1);r("dojo-cdn")&&((G.dojo.location=w)&&(w+="/"),G.dijit.location=w+"../dijit/",G.dojox.location=w+"../dojox/");J(g,1);J(A,1);var ga=function(a){fa(function(){b(a.deps,ya)})},pa=function(a,b,t,h,Q){var d;if(u(a)){if((d=E(a,
h,!0))&&d.executed)return d.result;throw f("undefinedModule",a);}c(a)||(J(a,0,h),a=b,b=t);if(c(a))if(a.length){t="require*"+oa();for(var y,g=[],m=0;m<a.length;)y=a[m++],g.push(E(y,h));d=e(U("",t,0,""),{injected:2,deps:g,def:b||l,require:h?h.require:k,gc:1});v[d.mid]=d;ga(d);var n=L&&!0;fa(function(){ha(d,n)});d.executed||B.push(d);ia()}else b&&b();return Q},ca=function(a){if(!a)return k;var b=a.require;b||(b=function(d,h,e){return pa(d,h,e,a,b)},a.require=e(b,k),b.module=a,b.toUrl=function(b){return ta(b,
a)},b.toAbsMid=function(b){return ja(b,a)});return b},B=[],V=[],z={},Na=function(a){a.injected=1;z[a.mid]=1;a.url&&(z[a.url]=a.pack||1);za()},X=function(a){a.injected=2;delete z[a.mid];a.url&&delete z[a.url];p(z)&&W()},Oa=k.idle=function(){return!V.length&&p(z)&&!B.length&&!L},ka=function(a,b){if(b)for(var d=0;d<b.length;d++)if(b[d][2].test(a))return b[d];return 0},Aa=function(a){var b=[],e,h;for(a=a.replace(/\\/g,"/").split("/");a.length;)e=a.shift(),".."==e&&b.length&&".."!=h?(b.pop(),h=b[b.length-
1]):"."!=e&&b.push(h=e);return b.join("/")},U=function(a,b,e,h){return{pid:a,mid:b,pack:e,url:h,executed:0,def:0}},Ba=function(a,d,e,h,c,k,y,g,m){var t,Q,l,n;n=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||n&&!d)return U(0,a,0,a);a=Aa(n?d.mid+"/../"+a:a);if(/^\./.test(a))throw f("irrationalPath",a);d&&(l=ka(d.mid,k));(l=(l=l||k.star)&&ka(a,l[1]))&&(a=l[1]+a.substring(l[3]));d=(K=a.match(/^([^\/]+)(\/(.+))?$/))?K[1]:"";(t=e[d])?a=d+"/"+(Q=K[3]||t.main):d="";var p=0;b(g,function(b){var d=a.match(b[0]);
d&&0<d.length&&(p=q(b[1])?a.replace(b[0],b[1]):b[1])});if(p)return Ba(p,0,e,h,c,k,y,g,m);if(e=h[a])return m?U(e.pid,e.mid,e.pack,e.url):h[a];h=(l=ka(a,y))?l[1]+a.substring(l[3]):d?t.location+"/"+Q:r("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(h)||(h=c+h);return U(d,a,t,Aa(h+".js"))},R=function(a,b,e){return Ba(a,b,G,v,k.baseUrl,e?[]:O,e?[]:ra,e?[]:qa)},Ca=function(a,b,e){return a.normalize?a.normalize(b,function(a){return ja(a,e)}):ja(b,e)},Da=0,E=function(a,b,e){var d,f;(d=a.match(/^(.+?)\!(.*)$/))?
(f=E(d[1],b,e),5!==f.executed||f.load||la(f),f.load?(d=Ca(f,d[2],b),a=f.mid+"!"+(f.dynamic?++Da+"!":"")+d):(d=d[2],a=f.mid+"!"+ ++Da+"!waitingForPlugin"),a={plugin:f,mid:a,req:ca(b),prid:d}):a=R(a,b);return v[a.mid]||!e&&(v[a.mid]=a)},ja=k.toAbsMid=function(a,b){return R(a,b).mid},ta=k.toUrl=function(a,b){var d=R(a+"/x",b),e=d.url;return Ea(0===d.pid?a:e.substring(0,e.length-5))},Fa={injected:2,executed:5,def:3,result:3};w=function(a){return v[a]=e({mid:a},Fa)};var Pa=w("require"),Qa=w("exports"),
Ra=w("module"),Y={},ma=0,la=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Sa=function(a){var d={};b(a.loadQ,function(b){var f=Ca(a,b.prid,b.req.module),h=a.dynamic?b.mid.replace(/waitingForPlugin$/,f):a.mid+"!"+f,f=e(e({},b),{mid:h,prid:f,injected:0});v[h]&&v[h].injected||Ga(v[h]=f);d[b.mid]=v[h];X(b);delete v[b.mid]});a.loadQ=0;var f=function(a){for(var b=a.deps||[],e=0;e<b.length;e++)(a=d[b[e].mid])&&(b[e]=a)},h;for(h in v)f(v[h]);b(B,f)},na=function(a){k.trace("loader-finish-exec",
[a.mid]);a.executed=5;a.defOrder=ma++;a.loadQ&&(la(a),Sa(a));for(m=0;m<B.length;)B[m]===a?B.splice(m,1):m++;/^require\*/.test(a.mid)&&delete v[a.mid]},Ta=[],ha=function(a,b){if(4===a.executed)return k.trace("loader-circular-dependency",[Ta.concat(a.mid).join("-\x3e")]),!a.def||b?Y:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return Y;var d=a.mid,e=a.deps||[],c,y=[],l=0;for(a.executed=4;c=e[l++];){c=c===Pa?ca(a):c===Qa?a.cjs.exports:c===Ra?a.cjs:ha(c,b);if(c===Y)return a.executed=0,k.trace("loader-exec-module",
["abort",d]),Y;y.push(c)}k.trace("loader-run-factory",[a.mid]);var d=a.def,g;if(r("config-dojo-loader-catches"))try{g=q(d)?d.apply(null,y):d}catch(Ma){C("error",a.result=f("factoryThrew",[a,Ma]))}else g=q(d)?d.apply(null,y):d;a.result=void 0===g&&a.cjs?a.cjs.exports:g;na(a)}return a.result},L=0,fa=function(a){try{L++,a()}catch(d){throw d;}finally{L--}Oa()&&C("idle",[])},ia=function(){L||fa(function(){for(var a,b,e=0;e<B.length;)a=ma,b=B[e],ha(b),a!=ma?e=0:e++})};void 0===r("dojo-loader-eval-hint-url")&&
r.add("dojo-loader-eval-hint-url",1);var Ea="function"==typeof g.fixupUrl?g.fixupUrl:function(a){a+="";return a+(ba?(/\?/.test(a)?"\x26":"?")+ba:"")},Ga=function(a){var b=a.plugin;5!==b.executed||b.load||la(b);var e=function(b){a.result=b;X(a);na(a);ia()};b.load?b.load(a.prid,a.req,e):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],B.unshift(b),ya(b))},I=0,Ua=function(a,b){r("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));if(r("config-dojo-loader-catches"))try{a===I?I.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?
b.url:b.mid)}catch(t){C("error",f("evalModuleThrew",b))}else a===I?I.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid)},ya=function(a){var b=a.mid,c=a.url;if(!(a.executed||a.injected||z[b]||a.url&&(a.pack&&z[a.url]===a.pack||1==z[a.url])))if(Na(a),a.plugin)Ga(a);else{var h=function(){Va(a);if(2!==a.injected){if(r("dojo-enforceDefine")){C("error",f("noDefine",a));return}X(a);e(a,Fa);k.trace("loader-define-nonmodule",[a.url])}ia()};(I=H[b]||H["url:"+a.url])?(k.trace("loader-inject",["cache",
a.mid,c]),Ua(I,a),h()):(k.trace("loader-inject",["script",a.mid,c]),k.injectUrl(Ea(c),h,a))}},Ha=function(a,b,c){k.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return C("error",f("multipleDefine",a)),a;e(a,{deps:b,def:c,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var d=0;b[d];d++)b[d]=E(b[d],a);X(a);q(c)||b.length||(a.result=c,na(a));return a},Va=function(a,e){for(var d=[],f,c;V.length;)c=V.shift(),e&&(c[0]=
e.shift()),f=c[0]&&E(c[0])||a,d.push([f,c[1],c[2]]);da(a);b(d,function(a){ga(Ha.apply(null,a))})},Z=0,W=l,za=l,W=function(){Z&&clearTimeout(Z);Z=0},za=function(){W();k.waitms&&(Z=F.setTimeout(function(){W();C("error",f("timeout",z))},k.waitms))};k.log=function(){try{for(var a=0;a<arguments.length;a++)console.log(arguments[a])}catch(d){}};k.trace=l;w=function(a,b,e){var d=arguments.length,f=["require","exports","module"],c=[0,a,b];1==d?c=[0,q(a)?f:[],a]:2==d&&u(a)?c=[a,q(b)?f:[],b]:3==d&&(c=[a,b,e]);
k.trace("loader-define",c.slice(0,2));(d=c[0]&&E(c[0]))&&!z[d.mid]?ga(Ha(d,c[1],c[2])):(r("ie-event-behavior"),V.push(c))};w.amd={vendor:"dojotoolkit.org"};e(e(k,n.loaderPatch),g.loaderPatch);N("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+":",a[b]);console.log(".")}}catch(t){}});e(k,{uid:oa,cache:H,packs:G});F.define?C("error",f("defineAlreadyDefined",0)):(F.define=w,F.require=k,b(wa,function(a){J(a)}),N=A.deps||g.deps||n.deps,A=A.callback||g.callback||
n.callback,k.boot=N||A?[N||[],A]:0)})(this.dojoConfig||this.djConfig||this.require||{},{async:1,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dgrid1",main:"OnDemandGrid",name:"dgrid1"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../put-selector",
main:"put",name:"put-selector"},{location:"../xstyle",name:"xstyle"},{location:"../moment",main:"moment.js",name:"moment"},{location:"../esri",name:"esri"}]});
require({cache:{"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(g,n){n.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;return 1});var m=n("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],l=m.length,p=function(b,e,f){f||(f=b[0]&&g.scopeMap[b[0]]?g.scopeMap[b.shift()][1]:g.global);try{for(var c=0;c<b.length;c++){var l=b[c];if(!(l in f))if(e)f[l]={};else return;
f=f[l]}return f}catch(k){}},x=Object.prototype.toString,q=function(b,e,f){return(f||[]).concat(Array.prototype.slice.call(b,e||0))},u=/\{([^\}]+)\}/g,c={_extraNames:m,_mixin:function(b,e,f){var c,g,k,p={};for(c in e)g=e[c],c in b&&(b[c]===g||c in p&&p[c]===g)||(b[c]=f?f(g):g);if(n("bug-for-in-skips-shadowed")&&e)for(k=0;k<l;++k)c=m[k],g=e[c],c in b&&(b[c]===g||c in p&&p[c]===g)||(b[c]=f?f(g):g);return b},mixin:function(b,e){b||(b={});for(var f=1,g=arguments.length;f<g;f++)c._mixin(b,arguments[f]);
return b},setObject:function(b,e,c){var f=b.split(".");b=f.pop();return(c=p(f,!0,c))&&b?c[b]=e:void 0},getObject:function(b,e,c){return b?p(b.split("."),e,c):c},exists:function(b,e){return void 0!==c.getObject(b,!1,e)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:Array.isArray||function(b){return"[object Array]"==x.call(b)},isFunction:function(b){return"[object Function]"===x.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||c.isArray(b)||
c.isFunction(b))},isArrayLike:function(b){return!!b&&!c.isString(b)&&!c.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(c.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!c.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,e){for(var f=1,g=arguments.length;f<g;f++)c._mixin(b.prototype,arguments[f]);return b},_hitchArgs:function(b,e){var f=c._toArray(arguments,2),l=c.isString(e);return function(){var m=c._toArray(arguments),k=l?(b||g.global)[e]:
e;return k&&k.apply(b||this,f.concat(m))}},hitch:function(b,e){if(2<arguments.length)return c._hitchArgs.apply(g,arguments);e||(e=b,b=null);if(c.isString(e)){b=b||g.global;if(!b[e])throw['lang.hitch: scope["',e,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[e].apply(b,arguments||[])}}return b?function(){return e.apply(b,arguments||[])}:e},delegate:function(){function b(){}return function(e,f){b.prototype=e;var g=new b;b.prototype=null;f&&c._mixin(g,f);return g}}(),_toArray:n("ie")?
function(){function b(b,c,g){g=g||[];for(c=c||0;c<b.length;c++)g.push(b[c]);return g}return function(c){return(c.item?b:q).apply(this,arguments)}}():q,partial:function(b){return c.hitch.apply(g,[null].concat(c._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||c.isFunction(b))return b;if(b.nodeType&&"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return new RegExp(b);var e,f,g;if(c.isArray(b))for(e=[],f=0,g=b.length;f<
g;++f)f in b&&(e[f]=c.clone(b[f]));else e=b.constructor?new b.constructor:{};return c._mixin(e,b,c.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,e,f){return b.replace(f||u,c.isFunction(e)?e:function(b,f){return c.getObject(f,!1,e)})}};c.mixin(g,c);return c})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(g,n,m,l){var p,x=function(){return this}(),q={},u={},
c={config:n,global:x,dijit:q,dojox:u},q={dojo:["dojo",c],dijit:["dijit",q],dojox:["dojox",u]};l=m.map&&m.map[l.id.match(/[^\/]+/)[0]];for(p in l)q[p]?q[p][0]=l[p]:q[p]=[l[p],{}];for(p in q)l=q[p],l[1]._scopeName=l[0],n.noGlobals||(x[l[0]]=l[1]);c.scopeMap=q;c.baseUrl=c.config.baseUrl=m.baseUrl;c.isAsync=m.async;c.locale=n.locale;x="$Rev: a1e2d9d $".match(/[0-9a-f]{7,}/);c.version={major:1,minor:12,patch:1,flag:"",revision:x?x[0]:NaN,toString:function(){var b=c.version;return b.major+"."+b.minor+"."+
b.patch+b.flag+" ("+b.revision+")"}};g("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c);c.exit=function(){};g.add("dojo-debug-messages",!!n.isDebug);c.deprecated=c.experimental=function(){};g("dojo-debug-messages")&&(c.deprecated=function(b,c,f){b="DEPRECATED: "+b;c&&(b+=" "+c);f&&(b+=" -- will be removed in version: "+f);console.warn(b)},c.experimental=function(b,c){var e="EXPERIMENTAL: "+b+" -- APIs subject to change without notice.";
c&&(e+=" "+c);console.warn(e)});if(n.modulePaths){c.deprecated("dojo.modulePaths","use paths configuration");g={};for(p in n.modulePaths)g[p.replace(/\./g,"/")]=n.modulePaths[p];m({paths:g})}c.moduleUrl=function(b,e){c.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var f=null;b&&(f=m.toUrl(b.replace(/\./g,"/")+(e?"/"+e:"")+"/*.*").replace(/\/\*\.\*/,"")+(e?"":"/"));return f};c._hasResource={};return c})},"dojo/has":function(){define(["require","module"],function(g,n){var m=g.has||function(){};
m.clearElement=function(g){g.innerHTML="";return g};m.normalize=function(g,p){var l=g.match(/[\?:]|[^:\?]*/g),n=0,u=function(c){var b=l[n++];if(":"==b)return 0;if("?"==l[n++]){if(!c&&m(b))return u();u(!0);return u(c)}return b||0};return(g=u())&&p(g)};m.load=function(g,m,n){g?m([g],n):n()};return m})},"dojo/_base/config":function(){define(["../has","require"],function(g,n){var m={},l=n.rawConfig,p;for(p in l)m[p]=l[p];!m.locale&&"undefined"!=typeof navigator&&(l=navigator.languages&&navigator.languages.length?
navigator.languages[0]:navigator.language||navigator.userLanguage)&&(m.locale=l.toLowerCase());return m})},"dojo/sniff":function(){define(["./has"],function(g){return g})}}});(function(){var g=this.require;g({cache:{}});!g.async&&g(["dojo"]);g.boot&&g.apply(null,g.boot)})();
//>>built
require({cache:{"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(m,a,d,p){var f=function(){return this}(),g={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,
0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,panDuration:350,panRate:25,logoLink:"http://www.esri.com"},autoSpatialIndexing:f.Worker&&!1,io:{errorHandler:function(b,c){a.publish("esri.Error",[b])},proxyUrl:null,alwaysUseProxy:!1,useCors:"with-credentials",corsEnabledServers:"server.arcgisonline.com services.arcgisonline.com www.arcgis.com tiles.arcgis.com tiles1.arcgis.com tiles2.arcgis.com tiles3.arcgis.com tiles4.arcgis.com basemaps.arcgis.com elevation3d.arcgis.com services.arcgis.com services1.arcgis.com services2.arcgis.com services3.arcgis.com services4.arcgis.com services5.arcgis.com services6.arcgis.com services7.arcgis.com static.arcgis.com utility.arcgisonline.com geocode.arcgis.com geoenrich.arcgis.com qaext.arcgis.com tilesqa.arcgis.com servicesqa.arcgis.com servicesqa1.arcgis.com servicesqa2.arcgis.com servicesqa3.arcgis.com geocodeqa.arcgis.com geoenrichqa.arcgis.com dev.arcgis.com devext.arcgis.com staticdev.arcgis.com tilesdevext.arcgis.com elevation3ddev.arcgis.com servicesdev.arcgis.com servicesdev1.arcgis.com servicesdev2.arcgis.com servicesdev3.arcgis.com geocodedev.arcgis.com geoenrichdev.arcgis.com basemapsdev.arcgis.com".split(" "),
corsDetection:f.cordova?!1:!0,corsStatus:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" ")},workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}}}};d("extend-esri")&&(p.config=g);m.noGlobals||(f.esriConfig=g);return g})},"dojo/topic":function(){define(["./Evented"],
function(m){var a=new m;return{publish:function(d,p){return a.emit.apply(a,arguments)},subscribe:function(d,p){return a.on.apply(a,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(m,a){function d(){}var p=m.after;d.prototype={on:function(f,g){return a.parse(this,f,g,function(a,c){return p(a,"on"+c,g,!0)})},emit:function(f,g){var b=[this];b.push.apply(b,arguments);return a.emit.apply(a,b)}};return d})},"dojo/aspect":function(){define([],function(){function m(a,c,e,h){var b=
a[c],f="around"==c,g;if(f){var d=e(function(){return b.advice(this,arguments)});g={remove:function(){d&&(d=a=e=null)},advice:function(a,c){return d?d.apply(a,c):b.advice(a,c)}}}else g={remove:function(){if(g.advice){var b=g.previous,h=g.next;h||b?(b?b.next=h:a[c]=h,h&&(h.previous=b)):delete a[c];a=e=g.advice=null}},id:a.nextId++,advice:e,receiveArguments:h};if(b&&!f)if("after"==c){for(;b.next&&(b=b.next););b.next=g;g.previous=b}else"before"==c&&(a[c]=g,g.next=b,b.previous=g);else a[c]=g;return g}
function a(a){return function(c,b,h,n){var e=c[b],g;e&&e.target==c||(c[b]=g=function(){for(var a=g.nextId,c=arguments,b=g.before;b;)b.advice&&(c=b.advice.apply(this,c)||c),b=b.next;if(g.around)var e=g.around.advice(this,c);for(b=g.after;b&&b.id<a;){if(b.advice)if(b.receiveArguments)var h=b.advice.apply(this,c),e=h===d?e:h;else e=b.advice.call(this,e,c);b=b.next}return e},e&&(g.around={advice:function(a,c){return e.apply(a,c)}}),g.target=c,g.nextId=g.nextId||0);c=m(g||e,a,h,n);h=null;return c}}var d,
p=a("after"),f=a("before"),g=a("around");return{before:f,around:g,after:p}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(m,a,d){function p(a,e,h,g,f){if(g=e.match(/(.*):(.*)/))return e=g[2],g=g[1],b.selector(g,e).call(f,a,h);d("touch")&&(c.test(e)&&(h=z(h)),d("event-orientationchange")||"orientationchange"!=e||(e="resize",a=window,h=z(h)));E&&(h=E(h));if(a.addEventListener){var C=e in n,D=C?n[e]:e;a.addEventListener(D,h,C);return{remove:function(){a.removeEventListener(D,
h,C)}}}if(r&&a.attachEvent)return r(a,"on"+e,h);throw Error("Target must be an event emitter");}function f(){this.cancelable=!1;this.defaultPrevented=!0}function g(){this.bubbles=!1}var b=function(a,c,e,h){return"function"!=typeof a.on||"function"==typeof c||a.nodeType?b.parse(a,c,e,p,h,this):a.on(c,e)};b.pausable=function(a,c,e,h){var n;a=b(a,c,function(){if(!n)return e.apply(this,arguments)},h);a.pause=function(){n=!0};a.resume=function(){n=!1};return a};b.once=function(a,c,e,h){var n=b(a,c,function(){n.remove();
return e.apply(this,arguments)});return n};b.parse=function(a,c,e,h,n,g){var f;if(c.call)return c.call(g,a,e);c instanceof Array?f=c:-1<c.indexOf(",")&&(f=c.split(/\s*,\s*/));if(f){var u=[];c=0;for(var C;C=f[c++];)u.push(b.parse(a,C,e,h,n,g));u.remove=function(){for(var a=0;a<u.length;a++)u[a].remove()};return u}return h(a,c,e,n,g)};var c=/^touch/;b.matches=function(c,b,e,h,n){n=n&&"function"==typeof n.matches?n:a.query;h=!1!==h;1!=c.nodeType&&(c=c.parentNode);for(;!n.matches(c,b,e);)if(c==e||!1===
h||!(c=c.parentNode)||1!=c.nodeType)return!1;return c};b.selector=function(a,c,e){return function(h,n){function g(c){return b.matches(c,a,h,e,f)}var f="function"==typeof a?{matches:a}:this,u=c.bubble;return u?b(h,u(g),n):b(h,c,function(a){var c=g(a.target);if(c)return a.selectorTarget=c,n.call(c,a)})}};var e=[].slice,h=b.emit=function(a,c,b){var h=e.call(arguments,2),n="on"+c;if("parentNode"in a){var C=h[0]={},D;for(D in b)C[D]=b[D];C.preventDefault=f;C.stopPropagation=g;C.target=a;C.type=c;b=C}do a[n]&&
a[n].apply(a,h);while(b&&b.bubbles&&(a=a.parentNode));return b&&b.cancelable&&b},n=d("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!d("event-stopimmediatepropagation"))var t=function(){this.modified=this.immediatelyStopped=!0},E=function(a){return function(c){if(!c.immediatelyStopped)return c.stopImmediatePropagation=t,a.apply(this,arguments)}};if(d("dom-addeventlistener"))b.emit=function(a,c,e){if(a.dispatchEvent&&document.createEvent){var n=(a.ownerDocument||document).createEvent("HTMLEvents");
n.initEvent(c,!!e.bubbles,!!e.cancelable);for(var g in e)g in n||(n[g]=e[g]);return a.dispatchEvent(n)&&n}return h.apply(b,arguments)};else{b._fixEvent=function(a,c){a||(a=(c&&(c.ownerDocument||c.document||c).parentWindow||window).event);if(!a)return a;try{x&&a.type==x.type&&a.srcElement==x.target&&(a=x)}catch(y){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=c||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||
(a.stopPropagation=B,a.preventDefault=G),a.type){case "keypress":var b="charCode"in a?a.charCode:a.keyCode;10==b?(b=0,a.keyCode=13):13==b||27==b?b=0:3==b&&(b=99);a.charCode=b;b=a;b.keyChar=b.charCode?String.fromCharCode(b.charCode):"";b.charOrCode=b.keyChar||b.keyCode}return a};var x,A=function(a){this.handle=a};A.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var w=function(a){return function(c){c=b._fixEvent(c,this);var e=a.call(this,c);c.modified&&(x||setTimeout(function(){x=
null}),x=c);return e}},r=function(a,c,b){b=w(b);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>d("jscript"))&&!d("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var e=a[c];if(!e||!e.listeners){var h=e,e=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");e.listeners=
[];a[c]=e;e.global=this;h&&e.listeners.push(_dojoIEListeners_.push(h)-1)}e.listeners.push(a=e.global._dojoIEListeners_.push(b)-1);return new A(a)}return m.after(a,c,b,!0)},B=function(){this.cancelBubble=!0},G=b._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(H){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(d("touch"))var v=function(){},O=window.orientation,z=function(a){return function(c){var b=c.corrected;if(!b){var e=c.type;
try{delete c.type}catch(D){}if(c.type){if(d("touch-can-modify-event-delegate"))v.prototype=c,b=new v;else{var b={},h;for(h in c)b[h]=c[h]}b.preventDefault=function(){c.preventDefault()};b.stopPropagation=function(){c.stopPropagation()}}else b=c,b.type=e;c.corrected=b;if("resize"==e){if(O==window.orientation)return null;O=window.orientation;b.type="orientationchange";return a.call(this,b)}"rotation"in b||(b.rotation=0,b.scale=1);var e=b.changedTouches[0],n;for(n in e)delete b[n],b[n]=e[n]}return a.call(this,
b)}};return b})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/has"],function(m,a,d){var p=function(){return this}(),f=p.location,g=f.pathname,b=f.protocol,f={version:"3.20",_appBaseUrl:b+"//"+f.host+g.substring(0,g.lastIndexOf(g.split("/")[g.split("/").length-1]))};a.noGlobals||(p.esri=f);m.isAsync||d.add("extend-esri",1);(f.dijit=f.dijit||{})._arcgisUrl=("http:"===b||"https:"===b?b:"http:")+"//www.arcgis.com/sharing/rest";return f})},"esri/layers/vectorTiles/core/workers/WorkerConnection":function(){define(["require",
"exports","./WorkerProxy"],function(m,a,d){return function(){function a(a,g,b){this.id=b;this._target="function"===typeof a?new a(this):a;this.proxy=new d(this._target,g,this)}a.prototype.invoke=function(a,g,b){return this.proxy.invoke(a,g,b,this.id)};return a}()})},"esri/layers/vectorTiles/core/workers/WorkerProxy":function(){define(["require","exports","dojo/Deferred"],function(m,a,d){return function(){function a(a,g,b){this.parentModule=a;this.worker=g;this.connection=b;this.msgCount=0;this.outgoingJobs=
{};this.incomingJobs={};this.msgCount=0;this.outgoingJobs={};this.incomingJobs={}}a.prototype.invoke=function(a,g,b,c){var e=this,h=++this.msgCount,n=new d(function(a){e.worker.postMessage({type:"\x3ccancel\x3e",id:h,connection:c,data:{reason:a}});e.outgoingJobs[h]&&delete e.outgoingJobs[h]});this.outgoingJobs[h]=n;this.worker.postMessage({type:a,id:h,connection:c,data:g},b);return n.promise};a.prototype.message=function(a){var g=this;if(a&&a.data){var b=a.data.type;if(b){var c=a.data,e=a.data.id,
h=a.data.connection;if("\x3cresponse\x3e"===b&&e){if(a=this.outgoingJobs[e])delete this.outgoingJobs[e],c.error?a.reject(c.error):a.resolve(c.data)}else"\x3ccancel\x3e"===b&&e?(a=this.incomingJobs[e])&&a.cancel(c.data.reason||"cancel"):(a=this.parentModule[b],"function"===typeof a&&(c=a.call(this.parentModule,c.data,this.connection),this.incomingJobs[e]=c,c.then(function(a){g.worker.postMessage({type:"\x3cresponse\x3e",id:e,connection:h,data:a?a.data:null},a?a.buffers:[])}).otherwise(function(a){a||
(a="Error encountered at method "+b);g.worker.postMessage({type:"\x3cresponse\x3e",id:e,connection:h,data:null,error:a})}).always(function(){delete g.incomingJobs[e]})))}}};return a}()})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(m,a,d,p,f){var g=Object.freeze||function(){},b=function(a,b,e,h,g){2===b&&n.instrumentRejected&&0===a.length&&n.instrumentRejected(e,!1,h,g);for(g=0;g<a.length;g++)c(a[g],b,e,
h)},c=function(a,c,b,g){var f=a[c],t=a.deferred;if(f)try{var d=f(b);if(0===c)"undefined"!==typeof d&&h(t,c,d);else{if(d&&"function"===typeof d.then){a.cancel=d.cancel;d.then(e(t,1),e(t,2),e(t,0));return}h(t,1,d)}}catch(G){h(t,2,G)}else h(t,c,b);2===c&&n.instrumentRejected&&n.instrumentRejected(b,!!f,g,t.promise)},e=function(a,c){return function(b){h(a,c,b)}},h=function(a,c,b){if(!a.isCanceled())switch(c){case 0:a.progress(b);break;case 1:a.resolve(b);break;case 2:a.reject(b)}},n=function(a){var e=
this.promise=new p,h=this,f,t,r,B=!1,G=[];Error.captureStackTrace&&(Error.captureStackTrace(h,n),Error.captureStackTrace(e,n));this.isResolved=e.isResolved=function(){return 1===f};this.isRejected=e.isRejected=function(){return 2===f};this.isFulfilled=e.isFulfilled=function(){return!!f};this.isCanceled=e.isCanceled=function(){return B};this.progress=function(a,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");return e}b(G,0,a,null,h);return e};this.resolve=function(a,c){if(f){if(!0===
c)throw Error("This deferred has already been fulfilled.");return e}b(G,f=1,t=a,null,h);G=null;return e};var v=this.reject=function(a,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");return e}Error.captureStackTrace&&Error.captureStackTrace(r={},v);b(G,f=2,t=a,r,h);G=null;return e};this.then=e.then=function(a,b,h){var g=[h,a,b];g.cancel=e.cancel;g.deferred=new n(function(a){return g.cancel&&g.cancel(a)});f&&!G?c(g,f,t,r):G.push(g);return g.deferred.promise};this.cancel=
e.cancel=function(c,b){if(!f){if(a){var e=a(c);c="undefined"===typeof e?c:e}B=!0;if(!f)return"undefined"===typeof c&&(c=new d),v(c),c;if(2===f&&t===c)return c}else if(!0===b)throw Error("This deferred has already been fulfilled.");};g(e)};n.prototype.toString=function(){return"[object Deferred]"};f&&f(n);return n})},"dojo/errors/CancelError":function(){define(["./create"],function(m){return m("CancelError",null,null,{dojoType:"cancel",log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],
function(m){return function(a,d,p,f){p=p||Error;var g=function(a){if(p===Error){Error.captureStackTrace&&Error.captureStackTrace(this,g);var c=Error.call(this,a),b;for(b in c)c.hasOwnProperty(b)&&(this[b]=c[b]);this.message=a;this.stack=c.stack}else p.apply(this,arguments);d&&d.apply(this,arguments)};g.prototype=m.delegate(p.prototype,f);g.prototype.name=a;return g.prototype.constructor=g}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(m){function a(){throw new TypeError("abstract");
}return m.extend(function(){},{then:function(d,p,f){a()},cancel:function(d,p){a()},isResolved:function(){a()},isRejected:function(){a()},isFulfilled:function(){a()},isCanceled:function(){a()},always:function(a){return this.then(a,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],
function(m,a,d,p){function f(a,c,b){if(!a||!1!==a.log){var e="";a&&a.stack&&(e+=a.stack);c&&c.stack&&(e+="\n    ----------------------------------------\n    rejected"+c.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));b&&b.stack&&(e+="\n    ----------------------------------------\n"+b.stack);console.error(a,e)}}function g(a,c,b,e){c||f(a,b,e)}function b(a,b,g,f){p.some(e,function(c){if(c.error===a)return b&&(c.handled=!0),!0})||e.push({error:a,rejection:g,handled:b,deferred:f,timestamp:(new Date).getTime()});
h||(h=setTimeout(c,n))}function c(){var a=(new Date).getTime(),b=a-n;e=p.filter(e,function(a){return a.timestamp<b?(a.handled||f(a.error,a.rejection,a.deferred),!1):!0});h=e.length?setTimeout(c,e[0].timestamp+n-a):!1}a.add("config-useDeferredInstrumentation","report-unhandled-rejections");var e=[],h=!1,n=1E3;return function(c){var e=a("config-useDeferredInstrumentation");if(e){m.on("resolved",d.hitch(console,"log","resolved"));m.on("rejected",d.hitch(console,"log","rejected"));m.on("progress",d.hitch(console,
"log","progress"));var h=[];"string"===typeof e&&(h=e.split(","),e=h.shift());if("report-rejections"===e)c.instrumentRejected=g;else if("report-unhandled-rejections"===e||!0===e||1===e)c.instrumentRejected=b,n=parseInt(h[0],10)||n;else throw Error("Unsupported instrumentation usage \x3c"+e+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(m,a,d){function p(a){setTimeout(function(){g.apply(f,a)},0)}var f=new d,g=f.emit;f.emit=null;a.prototype.trace=
function(){var a=m._toArray(arguments);this.then(function(c){p(["resolved",c].concat(a))},function(c){p(["rejected",c].concat(a))},function(c){p(["progress",c].concat(a))});return this};a.prototype.traceRejected=function(){var a=m._toArray(arguments);this.otherwise(function(c){p(["rejected",c].concat(a))});return this};return f})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(m,a,d){function p(a){return b[a]=new Function("item","index","array",a)}function f(a){var c=
!a;return function(e,h,g){var n=0,f=e&&e.length||0,d;f&&"string"==typeof e&&(e=e.split(""));"string"==typeof h&&(h=b[h]||p(h));if(g)for(;n<f;++n){if(d=!h.call(g,e[n],n,e),a^d)return!d}else for(;n<f;++n)if(d=!h(e[n],n,e),a^d)return!d;return c}}function g(a){var b=1,h=0,g=0;a||(b=h=g=-1);return function(n,f,d,t){if(t&&0<b)return e.lastIndexOf(n,f,d);t=n&&n.length||0;var x=a?t+g:h;d===c?d=a?h:t+g:0>d?(d=t+d,0>d&&(d=h)):d=d>=t?t+g:d;for(t&&"string"==typeof n&&(n=n.split(""));d!=x;d+=b)if(n[d]==f)return d;
return-1}}var b={},c,e={every:f(!1),some:f(!0),indexOf:g(!0),lastIndexOf:g(!1),forEach:function(a,c,e){var h=0,g=a&&a.length||0;g&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=b[c]||p(c));if(e)for(;h<g;++h)c.call(e,a[h],h,a);else for(;h<g;++h)c(a[h],h,a)},map:function(a,c,e,g){var h=0,n=a&&a.length||0;g=new (g||Array)(n);n&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=b[c]||p(c));if(e)for(;h<n;++h)g[h]=c.call(e,a[h],h,a);else for(;h<n;++h)g[h]=c(a[h],h,a);return g},filter:function(a,
c,e){var h=0,g=a&&a.length||0,n=[],f;g&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=b[c]||p(c));if(e)for(;h<g;++h)f=a[h],c.call(e,f,h,a)&&n.push(f);else for(;h<g;++h)f=a[h],c(f,h,a)&&n.push(f);return n},clearCache:function(){b={}}};d.mixin(m,e);return e})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTileHandler":function(){define("require exports dojo/Deferred ../../core/promiseUtils ./WorkerTile ./style/StyleRepository".split(" "),function(m,a,d,p,f,g){return function(){function a(){this._tiles=
{};this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=function(){var a=new d;this._spriteInfo={};this._glyphInfo={};var e=this._tiles,b;for(b in e){var g=e[b];g&&g.setObsolete()}this._tiles={};a.resolve();return a.promise};a.prototype.getLayers=function(){return this._layers};a.prototype.setLayers=function(a){this._layers=(new g(a)).layers;return p.resolve({data:""})};a.prototype.getTile=function(a,e){var c=this,b=a.key,g=new f(a.key,a.refKey,this,a.rotation),d=a.cacheTile;return e.invoke("fetchTileData",
a.refKey).then(function(a){return g.setDataAndParse(a.protobuff,e).then(function(a){d&&6!==g.status&&(c._tiles[b]=g);return a}).otherwise(function(a){g.setObsolete();return p.reject(a)})}).otherwise(function(a){g.setObsolete();c._tiles[g.tileKey]&&delete c._tiles[g.tileKey];return p.reject(a)}).always(function(a){return a})};a.prototype.update=function(a){var c=this._tiles[a.key];return c?c.updateSymbols(a.rotation):p.reject()};a.prototype.destructTileData=function(a){this._tiles[a.key]&&delete this._tiles[a.key];
return p.resolve()};a.prototype.fetchSprites=function(a,e){var c=[],b=this._spriteInfo;a.forEach(function(a){void 0===b[a]&&c.push(a)});return 0===c.length?p.resolve():e.invoke("getSprites",{sprites:c}).then(function(a){a=a.spriteItems;for(var c in a)b[c]=a[c]})};a.prototype.getSpriteItems=function(){return this._spriteInfo};a.prototype.fetchGlyphs=function(a,b,h,g){var c=[],e=this._glyphInfo[b];e?h.forEach(function(a){e[a]||c.push(a)}):(e=this._glyphInfo[b]=[],h.forEach(function(a){return c.push(a)}));
return 0===c.length?p.resolve():g.invoke("getGlyphs",{tileID:a,font:b,codePoints:c}).then(function(a){a=a.glyphItems;for(var c in a)e[c]=a[c]})};a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return a}()})},"esri/layers/vectorTiles/core/promiseUtils":function(){define(["require","exports","dojo/Deferred","./Error"],function(m,a,d,p){function f(a){if(a){if("function"!==typeof a.forEach){var b=Object.keys(a),c=b.map(function(c){return a[c]});return f(c).then(function(a){var c={};b.forEach(function(b,
e){return c[b]=a[e]});return c})}var e=new d,h=[],g=a.length;0===g&&e.resolve(h);a.forEach(function(a){var c={promise:a};h.push(c);a.then(function(a){c.value=a}).otherwise(function(a){c.error=a}).then(function(){--g;0===g&&e.resolve(h)})});return e.promise}}a.eachAlways=f;a.create=function(a){var b=new d;a(function(a){void 0===a&&(a=null);return b.resolve(a)},b.reject);return b.promise};a.reject=function(a){var b=new d;b.reject(a);return b.promise};a.resolve=function(a){void 0===a&&(a=null);var b=
new d;b.resolve(a);return b.promise};a.after=function(a,b){void 0===b&&(b=null);var c=0,e=new d(function(){c&&(clearTimeout(c),c=0)}),c=setTimeout(function(){e.resolve(b)},a);return e.promise};a.timeout=function(a,b,c){var e=0,h=new d(a.cancel);a.then(function(a){h.isFulfilled()||(h.resolve(a),e&&(clearTimeout(e),e=0))});a.otherwise(function(a){h.isFulfilled()||(h.reject(a),e&&(clearTimeout(e),e=0))});e=setTimeout(function(){var a=c||new p("promiseUtils:timeout","The wrapped promise did not resolve within "+
b+" ms");h.reject(a)},b);return h.promise};a.wrapCallback=function(a){var b=!1,c=new d(function(){return b=!0});a(function(a){b||c.resolve(a)});return c.promise}})},"esri/layers/vectorTiles/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper","./Message"],function(m,a,d,p,f){m=function(a){function b(c,e,h){var g=a.call(this,c,e,h)||this;return g instanceof b?g:new b(c,e,h)}d(b,a);return b}(f);m.prototype.type="error";return m})},"esri/layers/vectorTiles/core/tsSupport/extendsHelper":function(){define([],
function(){return function(m,a){function d(){this.constructor=m}for(var p in a)a.hasOwnProperty(p)&&(m[p]=a[p]);m.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}})},"esri/layers/vectorTiles/core/tsSupport/decorateHelper":function(){define([],function(){return function(m,a,d,p){var f=arguments.length,g=3>f?a:null===p?p=Object.getOwnPropertyDescriptor(a,d):p,b;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(m,a,d,p);else for(var c=m.length-
1;0<=c;c--)if(b=m[c])g=(3>f?b(g):3<f?b(a,d,g):b(a,d))||g;return 3<f&&g&&Object.defineProperty(a,d,g),g}})},"esri/layers/vectorTiles/core/Message":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper","dojo/string"],function(m,a,d,p,f){return function(){function a(b,c,e){this instanceof a&&(this.name=b,this.message=c&&f.substitute(c,e,function(a){return null==a?"":a})||"",this.details=e)}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};
return a}()})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(m,a){var d=/[&<>'"\/]/g,p={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},f={};a.setObject("dojo.string",f);f.escape=function(a){return a?a.replace(d,function(a){return p[a]}):""};f.rep=function(a,b){if(0>=b||!a)return"";for(var c=[];;){b&1&&c.push(a);if(!(b>>=1))break;a+=a}return c.join("")};f.pad=function(a,b,c,e){c||(c="0");a=String(a);b=f.rep(c,Math.ceil((b-
a.length)/c.length));return e?a+b:b+a};f.substitute=function(g,b,c,e){e=e||m.global;c=c?a.hitch(e,c):function(a){return a};return g.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(h,g,f){if(""==g)return"$";h=a.getObject(g,!1,b);f&&(h=a.getObject(f,!1,e).call(e,h,g));f=c(h,g);if("undefined"===typeof f)throw Error('string.substitute could not find key "'+g+'" in template');return f.toString()})};f.trim=String.prototype.trim?a.trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=
b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a};return f})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTile":function(){define("require exports dojo/Deferred ../../core/promiseUtils ../../core/executeAsync ./VertexMemoryBuffer ./IndexMemoryBuffer ./TileParser ./BackgroundBucket ./FillBucket ./LineBucket ./SymbolBucket ./Placement ./GeometryUtils".split(" "),function(m,a,d,p,f,g,b,c,e,h,n,t,E,x){return function(){function a(a,c,b,e){void 0===e&&(e=0);this.rotation=0;this._symbolBuckets=
[];this.tileKey=a;this.refKey=c;this._workerTileHandler=b;this.status=0;this.rotation=e;this.placementEngine=new E.PlacementEngine(x.C_DEG_TO_RAD*e)}a.prototype.setDataAndParse=function(a,c){var f=this;this.polygonVertexBuffer=new g.PolygonMemoryBuffer;this.polygonOutlineVertexBuffer=new g.PolygonOutlineMemoryBuffer;this.polygonIndexBuffer=new b.TriangleElementMemoryBuffer;this.polygonOutlineIndexBuffer=new b.TriangleElementMemoryBuffer;this.lineVertexBuffer=new g.LineMemoryBuffer;this.lineIndexBuffer=
new b.TriangleElementMemoryBuffer;this.lineJoinVertexBuffer=new g.LineJoinMemoryBuffer;this.markerVertexBuffer=new g.SymbolMemoryBuffer;this.markerIndexBuffer=new b.TriangleElementMemoryBuffer;this.textVertexBuffer=new g.SymbolMemoryBuffer;this.textIndexBuffer=new b.TriangleElementMemoryBuffer;var p=new d(function(a){f.status=6});this._parse(a,c).then(function(a){f.placementEngine=null;for(var c=new Uint32Array([2,f.polygonVertexBuffer.sizeInBytes,3,f.polygonOutlineVertexBuffer.sizeInBytes,6,f.polygonIndexBuffer.sizeInBytes,
7,f.polygonOutlineIndexBuffer.sizeInBytes,0,f.lineVertexBuffer.sizeInBytes,8,f.lineIndexBuffer.sizeInBytes,1,f.lineJoinVertexBuffer.sizeInBytes,4,f.markerVertexBuffer.sizeInBytes,9,f.markerIndexBuffer.sizeInBytes,5,f.textVertexBuffer.sizeInBytes,10,f.textIndexBuffer.sizeInBytes]),b=[],g=a.length,d=0;d<g;d++){var x=a[d];x instanceof h?(b.push(x.layerIndex),b.push(1),b.push(x.polygonIndexStart),b.push(x.polygonIndexCount),b.push(x.polygonOutlineIndexStart),b.push(x.polygonOutlineIndexCount)):x instanceof
n?(b.push(x.layerIndex),b.push(2),b.push(x.triangleIndexStart),b.push(x.triangleIndexCount),b.push(x.connectorStart),b.push(x.connectorCount)):x instanceof t?(b.push(x.layerIndex),b.push(3),b.push(0===x.textIndexCount?0:x.textIndexStart),b.push(x.textIndexCount),b.push(x.sdfMarker?1:0),x=x.markerPageMap,b.push(x.size),x.forEach(function(a,c){b.push(c);b.push(a[0]);b.push(a[1])})):x instanceof e&&(b.push(x.layerIndex),b.push(0))}a=new Uint32Array(b);var g=f.polygonVertexBuffer.toBuffer(),d=f.polygonOutlineVertexBuffer.toBuffer(),
x=f.polygonIndexBuffer.toBuffer(),E=f.polygonOutlineIndexBuffer.toBuffer(),A=f.lineVertexBuffer.toBuffer(),C=f.lineIndexBuffer.toBuffer(),D=f.lineJoinVertexBuffer.toBuffer(),u=f.markerVertexBuffer.toBuffer(),r=f.markerIndexBuffer.toBuffer(),v=f.textVertexBuffer.toBuffer(),F=f.textIndexBuffer.toBuffer();f.placementEngine=null;f.polygonVertexBuffer=null;f.polygonIndexBuffer=null;f.polygonOutlineVertexBuffer=null;f.polygonOutlineIndexBuffer=null;f.lineVertexBuffer=null;f.lineIndexBuffer=null;f.lineJoinVertexBuffer=
null;p.resolve({data:{bufferDataInfo:c.buffer,bucketDataInfo:a.buffer,bufferData:[g,d,x,E,A,C,D,u,r,v,F]},buffers:[g,x,d,E,A,C,D,u,r,v,F,c.buffer,a.buffer]})});return p.promise};a.prototype.addBucket=function(a){this._symbolBuckets.push(a)};a.prototype.updateSymbols=function(a){var c=this,e=this._symbolBuckets;if(!e)return p.resolve({data:null});this.rotation=a;var h=new E.PlacementEngine(a/256*360*x.C_DEG_TO_RAD),n=new g.SymbolMemoryBuffer,d=new b.TriangleElementMemoryBuffer,z=new g.SymbolMemoryBuffer,
t=new b.TriangleElementMemoryBuffer,A=[],w=e.length,y=0;return f(function(){if(6===c.status)return!0;if(y<w){var a=e[y++].copy(n,d,z,t,h);a&&(A.push(a),a.updateSymbols())}return y>=w},5).then(function(){if(6===c.status||0===n.sizeInBytes&&0===d.sizeInBytes&&0===z.sizeInBytes&&0===t.sizeInBytes)return{data:null};var a=new Uint32Array([4,n.sizeInBytes,9,d.sizeInBytes,5,z.sizeInBytes,10,t.sizeInBytes]),b=[];w=A.length;for(var e=0;e<w;e++){var h=A[e];b.push(h.layerIndex);b.push(3);b.push(0===h.textIndexCount?
0:h.textIndexStart);b.push(h.textIndexCount);b.push(h.sdfMarker?1:0);h=h.markerPageMap;b.push(h.size);h.forEach(function(a,c){b.push(c);b.push(a[0]);b.push(a[1])})}var e=new Uint32Array(b),h=n.toBuffer(),f=d.toBuffer(),g=z.toBuffer(),p=t.toBuffer();return{data:{bufferDataInfo:a.buffer,bucketDataInfo:e.buffer,bufferData:[h,f,g,p]},buffers:[h,f,g,p,a.buffer,e.buffer]}}).otherwise(function(a){return p.resolve({data:null})})};a.prototype.setObsolete=function(){this.status=6};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};
a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,b){return a&&0!==a.byteLength?(new c(a,this,b)).parse():p.resolve([])};return a}()})},"esri/layers/vectorTiles/core/executeAsync":function(){define(["require","exports","dojo/Deferred","./now"],function(m,a,d,p){return function(a,g){var b;if(!g||0>=g)g=500;var c=new d(function(){b&&clearTimeout(b)}),e=function(){if(!c.isFulfilled()){for(var h=p(),f=!1;!f&&p()-h<g;)f=!0===a();f?c.resolve():b=setTimeout(e,
0)}};b=setTimeout(e,0);return c.promise}})},"esri/layers/vectorTiles/core/now":function(){define(["require","exports","./global"],function(m,a,d){return function(){var a=d.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var f;f=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();
return function(){return Date.now()-f}}()})},"esri/layers/vectorTiles/core/global":function(){define(["require","exports"],function(m,a){return"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{}})},"esri/layers/vectorTiles/views/vectorTiles/VertexMemoryBuffer":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./MemoryBuffer ./GeometryUtils".split(" "),function(m,a,d,p,f,g){m=function(a){function c(){return a.call(this,
12)||this}d(c,a);c.prototype.add=function(a,c,b,g,d,x,p){var e=this.array,h=this.index;a=f.i1616to32(a,c);e.push(a);a=f.i8888to32(Math.round(31*b),Math.round(31*g),d,x);e.push(a);a=f.i1616to32(p,0);e.push(a);return h};return c}(f);a.LineMemoryBuffer=m;m=function(a){function c(){return a.call(this,4)||this}d(c,a);c.prototype.add=function(a,c){var b=this.index;this.array.push(f.i1616to32(a,c));return b};return c}(f);a.LineJoinMemoryBuffer=m;m=function(a){function c(){return a.call(this,4)||this}d(c,
a);c.prototype.add=function(a,c){this.array.push(f.i1616to32(a,c))};return c}(f);a.PolygonMemoryBuffer=m;m=function(a){function c(){return a.call(this,8)||this}d(c,a);c.prototype.add=function(a,c,b,g,d,x){var e=this.array,h=this.index;a=f.i1616to32(a,c);e.push(a);a=f.i8888to32(Math.round(15*b),Math.round(15*g),d,x);e.push(a);return h};return c}(f);a.PolygonOutlineMemoryBuffer=m;m=function(a){function c(){return a.call(this,16)||this}d(c,a);c.prototype.add=function(a,c,b,d,p,x,A,w,r,B){var e=this.array,
h=this.index;a=f.i1616to32(a,c);e.push(a);a=f.i1616to32(Math.round(32*b),Math.round(32*d));e.push(a);a=f.i8888to32(p/4,x/4,0,0);e.push(a);a=f.i8888to32(Math.ceil(10*B),g.radToByte(A),10*w,10*Math.min(r,25));e.push(a);return h};return c}(f);a.SymbolMemoryBuffer=m})},"esri/layers/vectorTiles/views/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(m,a){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");this._stride=a}Object.defineProperty(a.prototype,
"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};
a.i1616to32=function(a,f){return 65535&a|f<<16};a.i8888to32=function(a,f,g,b){return a&255|(f&255)<<8|(g&255)<<16|b<<24};a.i8816to32=function(a,f,g){return a&255|(f&255)<<8|g<<16};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(m,a){function d(a,g){a%=g;return 0<=a?a:a+g}a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=
256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var p=1/Math.LN2;a.positiveMod=d;a.radToByte=function(f){return d(f*a.C_RAD_TO_256,256)};a.degToByte=function(f){return d(f*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*p};a.sqr=function(a){return a*a};a.clamp=function(a,g,b){return Math.min(Math.max(a,g),b)};a.interpolate=function(a,g,b){return a*(1-b)+g*b};a.between=function(a,g,b){return a>=g&&a<=b||a>=b&&a<=g}})},"esri/layers/vectorTiles/views/vectorTiles/IndexMemoryBuffer":function(){define(["require",
"exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./MemoryBuffer"],function(m,a,d,p,f){m=function(a){function b(){return a.call(this,12)||this}d(b,a);b.prototype.add=function(a,b,h){var c=this.array;c.push(a);c.push(b);c.push(h)};return b}(f);a.TriangleElementMemoryBuffer=m;f=function(a){function b(){return a.call(this,4)||this}d(b,a);b.prototype.add=function(a){this.array.push(a)};return b}(f);a.PointElementMemoryBuffer=f})},"esri/layers/vectorTiles/views/vectorTiles/TileParser":function(){define("require exports dojo/promise/all ../../core/promiseUtils ../../core/executeAsync ../../core/pbf ./SourceLayerData ./Feature ./BackgroundBucket ./FillBucket ./LineBucket ./SymbolBucket ./TileClipper".split(" "),
function(m,a,d,p,f,g,b,c,e,h,n,t,E){return function(){function a(a,c,b){this._pbfTile=new g(new Uint8Array(a),new DataView(a));this._tile=c;this._connection=b;this._layers=c.getLayers();b=c.tileKey.split("/").map(parseFloat);var e=b[0];a=b[1];b=b[2];this._level=e;c.refKey&&(c=c.refKey.split("/").map(parseFloat)[0],c=e-c,0<c&&(e=(1<<c)-1,this._tileClipper=new E.TileClipper(c,a&e,b&e)));this._tileClipper||(this._tileClipper=new E.SimpleBuilder)}a.prototype.parse=function(){for(var a=this,b=this._parseTileData(this._pbfTile),
e=this._layers,h=e.length,g=this._level,n,t=[],z={},x=new Set,h=h-1;0<=h;h--)if(n=e[h],!(n.minzoom&&g<n.minzoom||n.maxzoom&&g>=n.maxzoom||n.layout&&"none"===n.layout.visibility))if(0===n.type)n=this._createBucket(n),t.push(n);else{var E=n.sourceLayer,N=b[E];N&&(x.add(E),n=this._createBucket(n))&&(n.layerIndex=h,n.layerExtent=N.extent,(N=z[E])||(N=z[E]=[]),N.push(n))}var y=10*(this._level+1),L=[],C=[],D=[],u=[],Q=this._tileClipper,I=new Set,F={},J=[];x.forEach(function(a){return J.push(a)});var T=
0,m=0,R=J.length;return f(function(){if(6===a._tile.status)return!0;switch(T){case 0:if(m<R)for(var e=J[m++],h=b[e],g=z[e],e=h.getData();e.next(2);){var f=new c(e.getMessage(),h),n=f.values;if(n&&(n=n._minzoom)&&n>=y)continue;for(var d=0,t=g;d<t.length;d++)n=t[d],n.pushFeature(f)}else{h=a._tile;for(e in z)for(g=z[e],f=0;f<g.length;f++)n=g[f],n.hasFeatures()&&(3===n.layer.type?(L.push(n),h.addBucket(n)):n.layer.refLayerId?D.push(n):(C.push(n),u[n.layer.id]=n));T=1;m=0;R=L.length}break;case 1:m<R?L[m++].getResources(Q,
I,F):T=2}return 2===T},50).then(function(){if(6===a._tile.status)return[];var c=[],b=a._tile.getWorkerTileHandler(),e;0<I.size&&(e=b.fetchSprites(I,a._connection),c.push(e));for(var h in F)e=F[h],0<e.size&&(e=b.fetchGlyphs(a._tile.tileKey,h,e,a._connection),c.push(e));return d(c).then(function(c){if(6===a._tile.status)return[];var b=0,e=0,h=C.length;return f(function(){if(6===a._tile.status)return!0;switch(b){case 0:if(e<h){var c=C[e++];c.processFeatures(Q,a._tile);t.push(c)}else b=1,e=0,h=D.length;
break;case 1:for(var g=0;g<D.length;g++){var c=D[g],f=u[c.layer.refLayerId];f&&(f.assignBufferInfo(c),t.push(c))}b=2;e=0;h=L.length;break;case 2:e<h?(c=L[e++],c.processFeatures(Q,a._tile),t.push(c)):b=3}return 3===b},50).then(function(){t.sort(function(a,c){return a.layerIndex-c.layerIndex});return t})}).otherwise(function(a){return p.reject(Error(a))})}).otherwise(function(a){return p.reject(Error(a))})};a.prototype._parseTileData=function(a){for(var c={};a.next();)switch(a.tag()){case 3:var e=new b(a.getMessage());
c[e.name]=e;break;default:a.skip()}return c};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 3:return this._createSymbolBucket(a)}};a.prototype._createBackgroundBucket=function(a){return new e(a,this._level)};a.prototype._createFillBucket=function(a){var c=this._tile;return new h(a,this._level,c.polygonVertexBuffer,c.polygonIndexBuffer,c.polygonOutlineVertexBuffer,
c.polygonOutlineIndexBuffer)};a.prototype._createLineBucket=function(a){var c=this._tile;return new n(a,this._level,c.lineVertexBuffer,c.lineIndexBuffer,c.lineJoinVertexBuffer)};a.prototype._createSymbolBucket=function(a){var c=this._tile;return new t(a,this._level,c.markerVertexBuffer,c.markerIndexBuffer,c.textVertexBuffer,c.textIndexBuffer,c.placementEngine,c.getWorkerTileHandler())};return a}()})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(m,a,d){var p=
m.some;return function(f){var g,b;f instanceof Array?b=f:f&&"object"===typeof f&&(g=f);var c,e=[];if(g){b=[];for(var h in g)Object.hasOwnProperty.call(g,h)&&(e.push(h),b.push(g[h]));c={}}else b&&(c=[]);if(!b||!b.length)return(new a).resolve(c);var n=new a;n.promise.always(function(){c=e=null});var t=b.length;p(b,function(a,b){g||e.push(b);d(a,function(a){n.isFulfilled()||(c[e[b]]=a,0===--t&&n.resolve(c))},n.reject);return n.isFulfilled()});return n.promise}})},"dojo/when":function(){define(["./Deferred",
"./promise/Promise"],function(m,a){return function(d,p,f,g){var b=d&&"function"===typeof d.then,c=b&&d instanceof a;if(!b)return 1<arguments.length?p?p(d):d:(new m).resolve(d);c||(b=new m(d.cancel),d.then(b.resolve,b.reject,b.progress),d=b.promise);return p||f||g?d.then(p,f,g):d}})},"esri/layers/vectorTiles/core/pbf":function(){define(["require","exports"],function(m,a){return function(){function a(a,f,g,b){this._tag=0;this._dataType=99;this._data=a;this._dataView=f;this._pos=g||0;this._end=b||a.byteLength}
a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.next=function(a){for(;;){if(this._pos===this._end)return!1;var f=this._decodeVarint();this._tag=f>>3;this._dataType=f&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=
function(){return this._decodeVarint()};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){return this._decodeSVarint()};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,f=this._pos,a=a.getUint32(f,!0)+4294967296*a.getUint32(f+4,!0);this._skip(8);
return a};a.prototype.getSFixed64=function(){var a=this._dataView,f=this._pos,a=a.getUint32(f,!0)+4294967296*a.getInt32(f+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,
!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),f=this._pos,f=this._toString(this._data,f,f+a);this._skip(a);return f};a.prototype.getBytes=function(){var a=this._getLength(),f=this._pos,f=this._toBytes(this._data,f,f+a);this._skip(a);return f};a.prototype.getMessage=function(){var d=this._getLength(),f=this._pos,f=new a(this._data,this._dataView,f,f+d);this._skip(d);return f};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;
case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,f=this._pos,g=0,b;if(10<=this._end-f){if(b=a[f++],g|=b&127,0!==(b&128)&&(b=a[f++],g|=(b&127)<<7,0!==(b&128)&&(b=a[f++],g|=(b&127)<<14,0!==(b&128)&&(b=a[f++],g|=(b&127)<<21,0!==(b&128)&&
(b=a[f++],g+=268435456*(b&127),0!==(b&128)&&(b=a[f++],g+=34359738368*(b&127),0!==(b&128)&&(b=a[f++],g+=4398046511104*(b&127),0!==(b&128)&&(b=a[f++],g+=562949953421312*(b&127),0!==(b&128)&&(b=a[f++],g+=72057594037927936*(b&127),0!==(b&128)&&(b=a[f++],g+=0x7fffffffffffffff*(b&127),0!==(b&128)))))))))))throw Error("Varint too long!");}else{for(var c=1;f!==this._end;){b=a[f];if(0===(b&128))break;++f;g+=(b&127)*c;c*=128}if(f===this._end)throw Error("Varint overrun!");++f;g+=b*c}this._pos=f;return g};a.prototype._decodeSVarint=
function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,f,g){var b="",c="";for(g=Math.min(this._end,g);f<g;++f){var e=a[f];e&128?c+="%"+e.toString(16):(b+=decodeURIComponent(c)+String.fromCharCode(e),c="")}c.length&&(b+=decodeURIComponent(c));return b};a.prototype._toBytes=function(a,f,g){g=Math.min(this._end,g);return new Uint8Array(a.buffer,
f,g-f)};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(m,a){return function(){function a(d){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=d.clone();d.next();)switch(d.tag()){case 1:this.name=d.getString();break;case 3:this.keys.push(d.getString());break;case 4:this.values.push(a._parseValue(d.getMessage()));break;case 5:this.extent=d.getUInt32();break;default:d.skip()}}a.prototype.getData=function(){return this._pbfLayer};
a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();case 5:return a.getUInt64();case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/Feature":function(){define(["require","exports","./Geometry"],function(m,a,d){return function(){function a(a,g){this.values={};for(var b=g.keys,c=g.values;a.next();)switch(a.tag()){case 1:this.id=
a.getUInt64();break;case 2:for(var e=a.getMessage(),h=this.values;!e.empty();){var f=e.getUInt32(),d=e.getUInt32();h[b[f]]=c[d]}break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;var g=this._pbfGeometry,b,c;a?a.reset(this.type):b=[];for(var e=1,h=0,n=0,f=0;!g.empty();)switch(0===h&&(h=g.getUInt32(),e=h&7,h>>=3),h--,e){case 1:n+=g.getSInt32();f+=g.getSInt32();
a?a.moveTo(n,f):(c&&b.push(c),c=[],c.push(new d.Point(n,f)));break;case 2:n+=g.getSInt32();f+=g.getSInt32();a?a.lineTo(n,f):c.push(new d.Point(n,f));break;case 7:a?a.close():c&&!c[0].equals(n,f)&&c.push(c[0].clone());break;default:throw Error("Invalid path operation");}a?a=a.result():(c&&b.push(c),a=b);return this._geometry=a};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/Geometry":function(){define(["require","exports"],function(m,a){var d=function(){function a(a,g){this.x=a;this.y=g}
a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.equals=function(a,g){return a===this.x&&g===this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,g){this.x=a;this.y=g};a.prototype.normalize=function(){var a=this.x,g=this.y,a=Math.sqrt(a*a+g*g);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,g){this.x+=a;this.y+=g};a.prototype.assign=function(a){this.x=
a.x;this.y=a.y};a.prototype.assignAdd=function(a,g){this.x=a.x+g.x;this.y=a.y+g.y};a.prototype.assignSub=function(a,g){this.x=a.x-g.x;this.y=a.y-g.y};a.prototype.rotate=function(a,g){var b=this.x,c=this.y;this.x=b*a-c*g;this.y=b*g+c*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,g=this.y;return Math.sqrt(a*a+g*g)};a.distance=function(a,g){var b=g.x-a.x,c=g.y-a.y;return Math.sqrt(b*b+c*c)};a.add=function(f,g){return new a(f.x+g.x,f.y+g.y)};a.sub=function(f,
g){return new a(f.x-g.x,f.y-g.y)};return a}();a.Point=d})},"esri/layers/vectorTiles/views/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./Bucket"],function(m,a,d,p,f){return function(a){function b(c,b){return a.call(this,c,b)||this}d(b,a);return b}(f)})},"esri/layers/vectorTiles/views/vectorTiles/Bucket":function(){define(["require","exports"],function(m,a){return function(){function a(a,f){this.layerExtent=
4096;this._features=[];this.layer=a;this.zoom=f;this._filter=a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter.filter(a)&&this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};a.prototype.processFeatures=function(a,f){};a.prototype.assignBufferInfo=function(a){};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/FillBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./Bucket ./Geometry ../../core/libs/earcut/earcut".split(" "),
function(m,a,d,p,f,g,b){return function(a){function c(c,b,e,g,f,d){c=a.call(this,c,b)||this;c.polygonVertexBuffer=e;c.polygonIndexBuffer=g;c.polygonOutlineVertexBuffer=f;c.polygonOutlineIndexBuffer=d;return c}d(c,a);Object.defineProperty(c.prototype,"polygonIndexStart",{get:function(){return this._triangleElementsStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"polygonIndexCount",{get:function(){return this._triangleElementsNum},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"polygonOutlineIndexStart",{get:function(){return this._outlineElementsStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"polygonOutlineIndexCount",{get:function(){return this._outlineElementsNum},enumerable:!0,configurable:!0});c.prototype.assignBufferInfo=function(a){a._triangleElementsStart=this._triangleElementsStart;a._triangleElementsNum=this._triangleElementsNum;a.layer.hasPaintProperty("fill-outline-color")?(a._outlineElementsStart=this._outlineElementsStart,a._outlineElementsNum=
this._outlineElementsNum):(a._outlineElementsStart=0,a._outlineElementsNum=0)};c.prototype.processFeatures=function(a,c){this._triangleElementsStart=this.polygonIndexBuffer.index;this._triangleElementsNum=0;this._outlineElementsStart=this.polygonOutlineIndexBuffer.index;this._outlineElementsNum=0;a&&a.setExtent(this.layerExtent);for(var b=this.layer.getPaintValue("fill-pattern",this.zoom),b=this.layer.getPaintValue("fill-antialias",this.zoom)&&void 0===b,e=0,h=this._features;e<h.length;e++){var g=
h[e].getGeometry(a);this._processFeature(g,b)}};c.prototype._processFeature=function(a,b){if(a){var e=a.length;if(b)for(var h=0;h<e;h++)this._processOutline(a[h]);for(var g,h=0;h<e;h++){var n=c._area(a[h]);128<n?(void 0!==g&&this._processFill(a,g),g=[h]):-128>n&&void 0!==g&&g.push(h)}void 0!==g&&this._processFill(a,g)}};c.prototype._processOutline=function(a){var c=this.polygonOutlineVertexBuffer,b=this.polygonOutlineIndexBuffer,e=b.index,h,f,d,r=new g.Point(0,0),p=new g.Point(0,0),G=new g.Point(0,
0),v=-1,m=-1,z=h=-1,H=-1,P=a.length;if(!(2>P)){var N=a[0];for(h=a[P-1];P&&h.isEqual(N);)--P,h=a[P-1];if(!(2>P-0)){for(N=0;N<P;++N){0===N?(h=a[P-1],f=a[0],d=a[1],r.assignSub(f,h),r.normalize(),r.rightPerpendicular()):(h=f,f=d,d=N!==P-1?a[N+1]:a[0],r.assign(p));p.assignSub(d,f);p.normalize();p.rightPerpendicular();h=r.x*p.y-r.y*p.x;G.assignAdd(r,p);G.normalize();var y=-G.x*-r.x+-G.y*-r.y,y=Math.abs(0!==y?1/y:1);8<y&&(y=8);0<=h?(h=c.add(f.x,f.y,r.x,r.y,0,1),-1===z&&(z=h),0<=v&&0<=m&&0<=h&&b.add(v,m,
h),m=c.add(f.x,f.y,y*-G.x,y*-G.y,0,-1),-1===H&&(H=m),0<=v&&0<=m&&0<=h&&b.add(v,m,h),v=m,m=h,h=c.add(f.x,f.y,G.x,G.y,0,1),0<=v&&0<=m&&0<=h&&b.add(v,m,h),m=c.add(f.x,f.y,p.x,p.y,0,1)):(h=c.add(f.x,f.y,y*G.x,y*G.y,0,1),-1===z&&(z=h),0<=v&&0<=m&&0<=h&&b.add(v,m,h),m=c.add(f.x,f.y,-r.x,-r.y,0,-1),-1===H&&(H=m),0<=v&&0<=m&&0<=h&&b.add(v,m,h),v=m,m=h,h=c.add(f.x,f.y,-G.x,-G.y,0,-1),0<=v&&0<=m&&0<=h&&b.add(v,m,h),v=c.add(f.x,f.y,-p.x,-p.y,0,-1));0<=v&&0<=m&&0<=h&&b.add(v,m,h)}0<=v&&0<=m&&0<=z&&b.add(v,m,
z);0<=v&&0<=z&&0<=H&&b.add(v,H,z);this._outlineElementsNum+=3*(b.index-e)}}};c.prototype._processFill=function(a,c){var e;1<c.length&&(e=[]);for(var h=0,g=0;g<c.length;g++){var f=c[g];0!==h&&e.push(h);h+=a[f].length}for(var h=2*h,g=new Float64Array(h),n=0,d=0;d<c.length;d++)for(var f=c[d],f=a[f],p=f.length,m=0;m<p;++m)g[n++]=f[m].x,g[n++]=f[m].y;e=b(g,e,2);n=e.length;if(0<n){d=this.polygonVertexBuffer.index;for(f=0;f<h;)this.polygonVertexBuffer.add(g[f++],g[f++]);for(h=0;h<n;)this.polygonIndexBuffer.add(d+
e[h++],d+e[h++],d+e[h++]);this._triangleElementsNum+=n}};c._area=function(a){for(var c=0,b=a.length-1,e=0;e<b;e++)c+=(a[e].x-a[e+1].x)*(a[e].y+a[e+1].y);c+=(a[b].x-a[0].x)*(a[b].y+a[0].y);return.5*c};return c}(f)})},"esri/layers/vectorTiles/core/libs/earcut/earcut":function(){define([],function(){function m(c,h,f){f=f||2;v=c.length/f+(h?2*h.length:0);O=!1;var n=h&&h.length,z=n?h[0]*f:c.length,t=a(c,0,z,f,!0),C=[];if(!t)return C;var D,u,x,E;if(n)a:{var F=f,n=[],r,H,w;E=0;for(r=h.length;E<r;E++)H=h[E]*
F,w=E<r-1?h[E+1]*F:c.length,H=a(c,H,w,F,!1),H===H.next&&(H.steiner=!0),n.push(e(H));n.sort(g);for(E=0;E<n.length;E++){if(!t){t=null;break a}h=n[E];F=t;if(F=b(h,F))h=A(F,h),d(h,h.next);t=d(t,t.next)}}if(O)return C;if(c.length>80*f){D=x=c[0];u=n=c[1];for(F=f;F<z;F+=f)E=c[F],h=c[F+1],E<D&&(D=E),h<u&&(u=h),E>x&&(x=E),h>n&&(n=h);x=Math.max(x-D,n-u)}p(t,C,f,D,u,x);return C}function a(a,c,b,e,h){var g;if(h===0<G(a,c,b,e))for(h=c;h<b;h+=e)g=w(h,a[h],a[h+1],g);else for(h=b-e;h>=c;h-=e)g=w(h,a[h],a[h+1],g);
g&&t(g,g.next)&&(r(g),g=g.next);return g}function d(a,c){if(!a)return a;c||(c=a);var b=a,e,h=0,g=v*v/2;do{e=!1;if(b.steiner||!t(b,b.next)&&0!==n(b.prev,b,b.next))b=b.next;else{r(b);b=c=b.prev;if(b===b.next)return null;e=!0}if(h++>g)return O=!0,null}while(e||b!==c);return c}function p(a,b,e,g,v,w,C){if(a){if(!C&&w){var D=a,u=D;do null===u.z&&(u.z=c(u.x,u.y,g,v,w)),u.prevZ=u.prev,u=u.nextZ=u.next;while(u!==D);u.prevZ.nextZ=null;u.prevZ=null;var D=u,z,I,F,J,y,m,H=1;do{u=D;F=D=null;for(J=0;u;){J++;I=
u;for(z=y=0;z<H&&(y++,I=I.nextZ,I);z++);for(m=H;0<y||0<m&&I;)0===y?(z=I,I=I.nextZ,m--):0!==m&&I?u.z<=I.z?(z=u,u=u.nextZ,y--):(z=I,I=I.nextZ,m--):(z=u,u=u.nextZ,y--),F?F.nextZ=z:D=z,z.prevZ=F,F=z;u=I}F.nextZ=null;H*=2}while(1<J)}for(D=a;a.prev!==a.next;){u=a.prev;I=a.next;if(w)a:{F=a;m=g;var L=v,P=w;J=F.prev;y=F;H=F.next;if(0<=n(J,y,H))F=!1;else{var G=J.x>y.x?J.x>H.x?J.x:H.x:y.x>H.x?y.x:H.x,B=J.y>y.y?J.y>H.y?J.y:H.y:y.y>H.y?y.y:H.y;z=c(J.x<y.x?J.x<H.x?J.x:H.x:y.x<H.x?y.x:H.x,J.y<y.y?J.y<H.y?J.y:H.y:
y.y<H.y?y.y:H.y,m,L,P);m=c(G,B,m,L,P);for(L=F.nextZ;L&&L.z<=m;){if(L!==F.prev&&L!==F.next&&h(J.x,J.y,y.x,y.y,H.x,H.y,L.x,L.y)&&0<=n(L.prev,L,L.next)){F=!1;break a}L=L.nextZ}for(L=F.prevZ;L&&L.z>=z;){if(L!==F.prev&&L!==F.next&&h(J.x,J.y,y.x,y.y,H.x,H.y,L.x,L.y)&&0<=n(L.prev,L,L.next)){F=!1;break a}L=L.prevZ}F=!0}}else F=f(a);if(F)b.push(u.i/e),b.push(a.i/e),b.push(I.i/e),r(a),D=a=I.next;else{if(O)break;a=I;if(a===D){if(!C)p(d(a),b,e,g,v,w,1);else if(1===C){C=b;D=e;u=a;do I=u.prev,F=u.next.next,!t(I,
F)&&E(I,u,u.next,F)&&x(I,F)&&x(F,I)&&(C.push(I.i/D),C.push(u.i/D),C.push(F.i/D),r(u),r(u.next),u=a=F),u=u.next;while(u!==a);a=u;p(a,b,e,g,v,w,2)}else if(2===C)a:{C=a;do{for(D=C.next.next;D!==C.prev;){if(u=C.i!==D.i){u=C;I=D;F=void 0;if(F=u.next.i!==I.i&&u.prev.i!==I.i){F=void 0;b:{F=u;do{if(F.i!==u.i&&F.next.i!==u.i&&F.i!==I.i&&F.next.i!==I.i&&E(F,F.next,u,I)){F=!0;break b}F=F.next}while(F!==u);F=!1}F=!F}J=void 0;if(J=F&&x(u,I)&&x(I,u)){F=u;J=!1;y=(u.x+I.x)/2;I=(u.y+I.y)/2;do F.y>I!==F.next.y>I&&
y<(F.next.x-F.x)*(I-F.y)/(F.next.y-F.y)+F.x&&(J=!J),F=F.next;while(F!==u)}u=J}if(u){a=A(C,D);C=d(C,C.next);a=d(a,a.next);p(C,b,e,g,v,w);p(a,b,e,g,v,w);break a}D=D.next}C=C.next}while(C!==a)}break}}}}}function f(a){var c=a.prev,b=a.next;if(0<=n(c,a,b))return!1;for(var e=a.next.next,g=0;e!==a.prev;){if(h(c.x,c.y,a.x,a.y,b.x,b.y,e.x,e.y)&&0<=n(e.prev,e,e.next))return!1;e=e.next;if(g++>v)return O=!0,!1}return!0}function g(a,c){return a.x-c.x}function b(a,c){var b=c,e=a.x,g=a.y,f=-Infinity,n;do{if(!b)return null;
if(g<=b.y&&g>=b.next.y){var d=b.x+(g-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(d<=e&&d>f){f=d;if(d===e){if(g===b.y)return b;if(g===b.next.y)return b.next}n=b.x<b.next.x?b:b.next}}b=b.next}while(b!==c);if(!n)return null;if(e===f)return n.prev;for(var d=n,u=n.x,t=n.y,z=Infinity,E,b=n.next;b!==d;)e>=b.x&&b.x>=u&&h(g<t?e:f,g,u,t,g<t?f:e,g,b.x,b.y)&&(E=Math.abs(g-b.y)/(e-b.x),(E<z||E===z&&b.x>n.x)&&x(b,a)&&(n=b,z=E)),b=b.next;return n}function c(a,c,b,e,h){a=32767*(a-b)/h;c=32767*(c-e)/h;a=(a|a<<8)&16711935;
a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;c=(c|c<<8)&16711935;c=(c|c<<4)&252645135;c=(c|c<<2)&858993459;return(a|a<<1)&1431655765|((c|c<<1)&1431655765)<<1}function e(a){var c=a,b=a;do c.x<b.x&&(b=c),c=c.next;while(c!==a);return b}function h(a,c,b,e,h,g,f,n){return 0<=(h-f)*(c-n)-(a-f)*(g-n)&&0<=(a-f)*(e-n)-(b-f)*(c-n)&&0<=(b-f)*(g-n)-(h-f)*(e-n)}function n(a,c,b){return(c.y-a.y)*(b.x-c.x)-(c.x-a.x)*(b.y-c.y)}function t(a,c){return a.x===c.x&&a.y===c.y}function E(a,c,b,e){return t(a,c)&&t(b,e)||t(a,
e)&&t(b,c)?!0:0<n(a,c,b)!==0<n(a,c,e)&&0<n(b,e,a)!==0<n(b,e,c)}function x(a,c){return 0>n(a.prev,a,a.next)?0<=n(a,c,a.next)&&0<=n(a,a.prev,c):0>n(a,c,a.prev)||0>n(a,a.next,c)}function A(a,c){var b=new B(a.i,a.x,a.y),e=new B(c.i,c.x,c.y),h=a.next,g=c.prev;a.next=c;c.prev=a;b.next=h;h.prev=b;e.next=b;b.prev=e;g.next=e;e.prev=g;return e}function w(a,c,b,e){a=new B(a,c,b);e?(a.next=e.next,a.prev=e,e.next.prev=a,e.next=a):(a.prev=a,a.next=a);return a}function r(a){a.next.prev=a.prev;a.prev.next=a.next;
a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function B(a,c,b){this.i=a;this.x=c;this.y=b;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function G(a,c,b,e){for(var h=0,g=b-e;c<b;c+=e)h+=(a[g]-a[c])*(a[c+1]+a[g+1]),g=c;return h}var v,O;m.deviation=function(a,c,b,e){var h=c&&c.length,g=Math.abs(G(a,0,h?c[0]*b:a.length,b));if(h)for(var h=0,f=c.length;h<f;h++)g-=Math.abs(G(a,c[h]*b,h<f-1?c[h+1]*b:a.length,b));for(h=c=0;h<e.length;h+=3){var f=e[h]*b,n=e[h+1]*
b,u=e[h+2]*b;c+=Math.abs((a[f]-a[u])*(a[n+1]-a[f+1])-(a[f]-a[n])*(a[u+1]-a[f+1]))}return 0===g&&0===c?0:Math.abs((c-g)/g)};m.flatten=function(a){for(var c=a[0][0].length,b={vertices:[],holes:[],dimensions:c},e=0,h=0;h<a.length;h++){for(var g=0;g<a[h].length;g++)for(var f=0;f<c;f++)b.vertices.push(a[h][g][f]);0<h&&(e+=a[h-1].length,b.holes.push(e))}return b};return m})},"esri/layers/vectorTiles/views/vectorTiles/LineBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./Bucket ./style/StyleLayer ./LineTess".split(" "),
function(m,a,d,p,f,g,b){return function(a){function c(c,e,g,f,d){c=a.call(this,c,e)||this;c.extrudeVectorsDoubleBuffer=[b.allocExtrudeVectors(),b.allocExtrudeVectors()];c.recycledTriangleBridge=b.allocTriangles(20);c.recycledTrianglePie=b.allocTriangles(20);c.lineVertexBuffer=g;c.lineIndexBuffer=f;return c}d(c,a);Object.defineProperty(c.prototype,"triangleIndexStart",{get:function(){return this.triangleElementsStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"triangleIndexCount",
{get:function(){return this.triangleElementsCount},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"connectorStart",{get:function(){return 0},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"connectorCount",{get:function(){return 0},enumerable:!0,configurable:!0});c.prototype.assignBufferInfo=function(a){a.triangleElementsStart=this.triangleElementsStart;a.triangleElementsCount=this.triangleElementsCount};c.prototype.processFeatures=function(a,c){this.triangleElementsStart=
this.lineIndexBuffer.index;this.triangleElementsCount=0;a&&a.setExtent(this.layerExtent);for(var b=new g.LineLayout(this.layer,this.zoom),e=0,h=this._features;e<h.length;e++){var f=h[e].getGeometry(a);this._processFeature(b,f)}};c.prototype._processFeature=function(a,c){if(c)for(var b=c.length,e=0;e<b;e++)this._processGeometry(c[e],a)};c.prototype._processGeometry=function(a,c){if(!(2>a.length)){var e=a[0],h=a[a.length-1],g=h.x-e.x,e=h.y-e.y,g=1E-6>g*g+e*e;if(!(2>a.length)){e=a[0];for(h=1;h<a.length;){var f=
a[h].x-e.x,n=a[h].y-e.y;1E-6>f*f+n*n?a.splice(h,1):(e=a[h],++h)}if(!(2>a.length)){this.vertices=a;this.isClosed=g;this.cap=c.cap;this.join=c.join;this.almostParallelRads=.05;this.veryShallowRads=.1;this.miterSafeRads=b.MITER_SAFE_RADS;this.miterLimitMag=Math.min(c.miterLimit,b.SYSTEM_MAG_LIMIT);this.roundLimitRads=Math.min(c.roundLimit,.5);this.newRoundJoinsSafeRads=2.3;for(var e=this.lineIndexBuffer.index,h=0,d=void 0,f=0;f<a.length;++f){var p=a[f],n=d===this.extrudeVectorsDoubleBuffer[f%2]?this.extrudeVectorsDoubleBuffer[(f+
1)%2]:this.extrudeVectorsDoubleBuffer[f%2];this._computeExtrudeVectors(n,f);this._writeGPUVertices(p.x,p.y,h,n);!n.capCenter||g&&f===a.length-1||this._writeGPUPieElements(n);d&&this._writeGPUBridgeElements(d,n);f<a.length-1&&(d=a[f+1],p=b.length([d.x-p.x,d.y-p.y]),h+=p);d=n}this.triangleElementsCount+=3*(this.lineIndexBuffer.index-e)}}}};c.prototype._computeExtrudeVectors=function(a,c){var e=this.vertices,h=this.isClosed,g=e[c],f=[void 0,void 0],n=[void 0,void 0];if(0<c&&c<e.length-1){var d=e[(c+
e.length-1)%e.length],p=e[(c+1)%e.length];b.normalize(f,[g.x-d.x,g.y-d.y]);b.normalize(n,[p.x-g.x,p.y-g.y])}else if(0===c)p=e[(c+1)%e.length],b.normalize(n,[p.x-g.x,p.y-g.y]),h?(d=e[e.length-2],b.normalize(f,[g.x-d.x,g.y-d.y])):f=n;else if(c===e.length-1)d=e[(c+e.length-1)%e.length],b.normalize(f,[g.x-d.x,g.y-d.y]),h?(d=e[1],b.normalize(n,[d.x-g.x,d.y-g.y])):n=f;else throw Error("Parameter i out of range.");h||0!==c?h||c!==e.length-1?this._computeJoinExtrudeVectors(a,f,n):this._computeCapExtrudeVectors(a,
f,n,b.CapPosition.END):this._computeCapExtrudeVectors(a,f,n,b.CapPosition.START)};c.prototype._computeCapExtrudeVectors=function(a,c,e,g){if(0===this.cap)b.buttCap(a,c,e);else if(1===this.cap)b.roundCap(a,c,e,g,b.getNumberOfSlices(Math.PI));else if(2===this.cap)b.squareCap(a,c,e,g);else throw Error("Unknown cap type!");};c.prototype._computeJoinExtrudeVectors=function(a,c,e){var h=b.getRads(c,e);if(h>Math.PI-this.almostParallelRads)b.rectJoin(a,c,e);else if(2===this.join||h<this.veryShallowRads)h<
this.almostParallelRads?b.fastMiterJoin(a,c,e):h<this.miterSafeRads?b.miterJoin(a,c,e):b.bevelJoin(a,c,e,this.miterLimitMag);else if(0===this.join)b.bevelJoin(a,c,e,1);else if(1===this.join){var g=b.getNumberOfSlices(h);h<this.newRoundJoinsSafeRads?2>g||h<this.roundLimitRads?b.bevelJoin(a,c,e,1):b.roundJoin(a,c,e,g):b.unitRoundJoin(a,c,e,g)}};c.prototype._writeGPUVertices=function(a,c,b,e){for(var h=0;h<e.vectors.count;++h){var g=this.lineVertexBuffer.add(a,c,e.vectors.items[h].vector[0],e.vectors.items[h].vector[1],
0,e.vectors.items[h].side,b);e.vectors.items[h].base=g}};c.prototype._writeGPUBridgeElements=function(a,c){b.bridge(this.recycledTriangleBridge,a,c,!1);for(var e=0;e<this.recycledTriangleBridge.count;++e){var h=this.recycledTriangleBridge.items[e];this.lineIndexBuffer.add(h.v1.base,h.v2.base,h.v3.base)}};c.prototype._writeGPUPieElements=function(a){b.pie(this.recycledTrianglePie,a);for(a=0;a<this.recycledTrianglePie.count;++a){var c=this.recycledTrianglePie.items[a];this.lineIndexBuffer.add(c.v1.base,
c.v2.base,c.v3.base)}};return c}(f)})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleLayer":function(){define(["require","exports","./StyleDefinition","./StyleProperty","./Filter"],function(m,a,d,p,f){m=function(){function a(a,c,e){this.type=a;this.id=c.id;this.source=c.source;this.sourceLayer=c["source-layer"];this.minzoom=c.minzoom;this.maxzoom=c.maxzoom;this.filter=c.filter;this.layout=c.layout;this.paint=c.paint;this.z=e;switch(a){case 0:this._layoutDefinition=d.StyleDefinition.backgroundLayoutDefinition;
this._paintDefinition=d.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=d.StyleDefinition.fillLayoutDefinition;this._paintDefinition=d.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=d.StyleDefinition.lineLayoutDefinition;this._paintDefinition=d.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=d.StyleDefinition.symbolLayoutDefinition,this._paintDefinition=d.StyleDefinition.symbolPaintDefinition}this._layoutProperties=this._parseLayout(this.layout);
this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=f.createFilter(this.filter)};a.prototype.hasLayoutProperty=function(a){var c=this._layoutProperties;return c&&c[a]?!0:!1};a.prototype.hasPaintProperty=function(a){var c=this._paintProperties;return c?void 0!==c[a]:!1};a.prototype.getLayoutValue=function(a,c){var b,h=this._layoutProperties;h&&(h=h[a])&&(b=h.getValue(c));h=this._layoutDefinition[a];
void 0===b&&(b=h["default"]);"enum"===h.type&&(b=h.values.indexOf(b));return b};a.prototype.getPaintValue=function(a,c){var b,h=this._paintProperties;h&&(h=h[a])&&(b=h.getValue(c));h=this._paintDefinition[a];void 0===b&&(b=h["default"]);"enum"===h.type&&(b=h.values.indexOf(b));return b};a.prototype._parseLayout=function(a){var c={},b;for(b in a)c[b]=new p(this._layoutDefinition[b],a[b]);return c};a.prototype._parsePaint=function(a){var c={},b;for(b in a)c[b]=new p(this._paintDefinition[b],a[b]);return c};
return a}();a.StyleLayer=m;m=function(){return function(a,b){this.cap=a.getLayoutValue("line-cap",b);this.join=a.getLayoutValue("line-join",b);this.miterLimit=a.getLayoutValue("line-miter-limit",b);this.roundLimit=a.getLayoutValue("line-round-limit",b)}}();a.LineLayout=m;m=function(){return function(a,b,c){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b);this.optional=a.getLayoutValue("icon-optional",b);this.rotationAlignment=
a.getLayoutValue("icon-rotation-alignment",b);this.size=a.getLayoutValue("icon-size",b);this.rotate=a.getLayoutValue("icon-rotate",b);this.padding=a.getLayoutValue("icon-padding",b);this.keepUpright=a.getLayoutValue("icon-keep-upright",b);this.offset=a.getLayoutValue("icon-offset",b);c&&1===this.rotationAlignment&&!a.hasLayoutProperty("icon-rotation-alignment")&&(this.rotationAlignment=0)}}();a.IconLayout=m;m=function(){return function(a,b,c){this.allowOverlap=a.getLayoutValue("text-allow-overlap",
b);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b);this.optional=a.getLayoutValue("text-optional",b);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b);this.font=a.getLayoutValue("text-font",b);this.maxWidth=a.getLayoutValue("text-max-width",b);this.lineHeight=a.getLayoutValue("text-line-height",b);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b);this.justify=a.getLayoutValue("text-justify",b);this.anchor=a.getLayoutValue("text-anchor",b);this.maxAngle=
a.getLayoutValue("text-max-angle",b);this.size=a.getLayoutValue("text-size",b);this.rotate=a.getLayoutValue("text-rotate",b);this.padding=a.getLayoutValue("text-padding",b);this.keepUpright=a.getLayoutValue("text-keep-upright",b);this.transform=a.getLayoutValue("text-transform",b);this.offset=a.getLayoutValue("text-offset",b);c&&1===this.rotationAlignment&&!a.hasLayoutProperty("text-rotation-alignment")&&(this.rotationAlignment=0)}}();a.TextLayout=m})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleDefinition":function(){define(["require",
"exports"],function(m,a){var d=function(){return function(){}}();d.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"}};d.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"}};d.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"},"line-cap":{type:"enum",values:["butt","round","square"],"default":"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],"default":"miter"},
"line-miter-limit":{type:"number","default":2},"line-round-limit":{type:"number","default":1.05}};d.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"},"symbol-placement":{type:"enum",values:["point","line"],"default":"point"},"symbol-spacing":{type:"number",minimum:1,"default":250},"symbol-avoid-edges":{type:"boolean","default":!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean","default":!1},"icon-ignore-placement":{type:"boolean","default":!1},
"icon-optional":{type:"boolean","default":!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport"],"default":"viewport"},"icon-size":{type:"number",minimum:0,"default":1},"icon-rotate":{type:"number","default":0},"icon-padding":{type:"number",minimum:0,"default":2},"icon-keep-upright":{type:"boolean","default":!0},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport"],"default":"viewport"},
"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,"default":16},"text-max-width":{type:"number",minimum:0,"default":10},"text-line-height":{type:"number","default":1.2},"text-letter-spacing":{type:"number","default":0},"text-justify":{type:"enum",values:["left","center","right"],"default":"center"},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),
"default":"center"},"text-max-angle":{type:"number",minimum:0,"default":45},"text-rotate":{type:"number","default":0},"text-padding":{type:"number",minimum:0,"default":2},"text-keep-upright":{type:"boolean","default":!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],"default":"none"},"text-offset":{type:"array",value:"number",length:2,"default":[0,0]},"text-allow-overlap":{type:"boolean","default":!1},"text-ignore-placement":{type:"boolean","default":!1},"text-optional":{type:"boolean",
"default":!1}};d.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,"default":1},"background-color":{type:"color","default":[0,0,0,1]},"background-pattern":{type:"string"}};d.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,"default":1},"fill-antialias":{type:"boolean","default":!0},"fill-color":{type:"color","default":[0,0,0,1]},"fill-outline-color":{type:"color","default":[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,
0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"fill-pattern":{type:"string"}};d.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,"default":1},"line-color":{type:"color","default":[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"line-width":{type:"number",minimum:0,"default":1},"line-gap-width":{type:"number",minimum:0,"default":0},
"line-offset":{type:"number","default":0},"line-blur":{type:"number",minimum:0,"default":0},"line-dasharray":{type:"array",value:"number","default":[]},"line-pattern":{type:"string"}};d.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,"default":1},"icon-color":{type:"color","default":[0,0,0,1]},"icon-halo-color":{type:"color","default":[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,"default":0},"icon-halo-blur":{type:"number",minimum:0,"default":0},"icon-translate":{type:"array",
value:"number",length:2,"default":[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"text-opacity":{type:"number",minimum:0,maximum:1,"default":1},"text-color":{type:"color","default":[0,0,0,1]},"text-halo-color":{type:"color","default":[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,"default":0},"text-halo-blur":{type:"number",minimum:0,"default":0},"text-translate":{type:"array",value:"number",length:2,"default":[0,0]},"text-translate-anchor":{type:"enum",
values:["map","viewport"],"default":"map"}};d.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,"default":1},"raster-hue-rotate":{type:"number","default":0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,"default":0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,"default":1},"raster-saturation":{type:"number",minimum:-1,maximum:1,"default":0},"raster-contrast":{type:"number",minimum:-1,maximum:1,"default":0},"raster-fade-duration":{type:"number",minimum:0,
"default":300}};d.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,"default":1},"circle-radius":{type:"number",minimum:0,"default":5},"circle-color":{type:"color","default":[0,0,0,1]},"circle-blur":{type:"number",minimum:0,"default":0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"}};a.StyleDefinition=d})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleProperty":function(){define(["require",
"exports","../../../Color","../GeometryUtils"],function(m,a,d,p){return function(){function a(g,b){var c;switch(g.type){case "number":c=!0;break;case "color":c=!0;b=a._parseColor(b);break;case "array":c="number"===g.value;break;default:c=!1}this.getValue=c?this._interpolate(b):this._piecewise(b)}a.prototype._piecewise=function(a){var b=a.stops;return b?function(a){var c=b.length;if(0!==c){for(var h=0,g=0;g<c;g++)if(b[g][0]<=a)h=g;else break;return b[h][1]}}:function(){return a}};a.prototype._interpolate=
function(a){var b=a.stops;if(b){var c=a.base||1;return function(a){for(var e,g,f=b.length,d=0;d<f;d++){var x=b[d];if(x[0]<=a)e=x;else{g=x;break}}if(e&&g){d=g[0]-e[0];a-=e[0];a=1===c?a/d:(Math.pow(c,a)-1)/(Math.pow(c,d)-1);if(Array.isArray(e[1])){e=e[1];g=g[1];f=[];for(d=0;d<e.length;d++)f.push(p.interpolate(e[d],g[d],a));return f}return p.interpolate(e[1],g[1],a)}if(e)return e[1];if(g)return g[1]}}return function(){return a}};a._parseColor=function(g){if(Array.isArray(g))return g;if("string"===typeof g)return g=
new d(g),[g.r/255,g.g/255,g.b/255,g.a||1];if(g&&g.stops)return g.stops=g.stops.map(function(b){return[b[0],a._parseColor(b[1])]}),g;throw Error("Incorrect color definition "+g);};return a}()})},"esri/layers/vectorTiles/Color":function(){define(["require","exports","esri/Color"],function(m,a,d){return function(){return function(a){return new d(a)}}()})},"esri/Color":function(){define(["dojo/_base/declare","dojo/_base/Color","dojo/has","./kernel"],function(m,a,d,p){m=m([a],{declaredClass:"esri.Color"});
m.toJsonColor=function(a){return a&&[a.r,a.g,a.b,1<a.a?a.a:Math.round(255*a.a)]};m.toDojoColor=function(b){return b&&new a([b[0],b[1],b[2],b[3]/255])};var f,g="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(f=0;f<g.length;f++)m[g[f]]=a[g[f]];d("extend-esri")&&(p.Color=m);return m})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(m,a,d){function p(a,c){throw Error("declare"+(c?" "+c:"")+": "+a);}function f(a,c){for(var b=[],e=[{cls:0,refs:[]}],
h={},g=1,f=a.length,n=0,d,t,v,x,r;n<f;++n){(d=a[n])?"[object Function]"!=z.call(d)&&p("mixin #"+n+" is not a callable constructor.",c):p("mixin #"+n+" is unknown. Did you use dojo.require to pull it in?",c);t=d._meta?d._meta.bases:[d];v=0;for(d=t.length-1;0<=d;--d)x=t[d].prototype,x.hasOwnProperty("declaredClass")||(x.declaredClass="uniqName_"+P++),x=x.declaredClass,h.hasOwnProperty(x)||(h[x]={count:0,refs:[],cls:t[d]},++g),x=h[x],v&&v!==x&&(x.refs.push(v),++v.count),v=x;++v.count;e[0].refs.push(v)}for(;e.length;){v=
e.pop();b.push(v.cls);for(--g;r=v.refs,1==r.length;){v=r[0];if(!v||--v.count){v=0;break}b.push(v.cls);--g}if(v)for(n=0,f=r.length;n<f;++n)v=r[n],--v.count||e.push(v)}g&&p("can't build consistent linearization",c);d=a[0];b[0]=d?d._meta&&d===b[b.length-d._meta.bases.length]?d._meta.bases.length:1:0;return b}function g(a,c,b,e){var h,g,f,n,d,C,D=this._inherited=this._inherited||{};"string"===typeof a&&(h=a,a=c,c=b,b=e);if("function"===typeof a)f=a,a=c,c=b;else try{f=a.callee}catch(R){if(R instanceof
TypeError)p("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw R;}(h=h||f.nom)||p("can't deduce a name to call inherited()",this.declaredClass);b=e=0;n=this.constructor._meta;e=n.bases;C=D.p;if("constructor"!=h){if(D.c!==f&&(C=0,d=e[0],n=d._meta,n.hidden[h]!==f)){(g=n.chains)&&"string"==typeof g[h]&&p("calling chained method with inherited: "+h,this.declaredClass);do if(n=d._meta,g=d.prototype,n&&(g[h]===f&&g.hasOwnProperty(h)||n.hidden[h]===
f))break;while(d=e[++C]);C=d?C:-1}if(d=e[++C])if(g=d.prototype,d._meta&&g.hasOwnProperty(h))b=g[h];else{f=O[h];do if(g=d.prototype,(b=g[h])&&(d._meta?g.hasOwnProperty(h):b!==f))break;while(d=e[++C])}b=d&&b||O[h]}else{if(D.c!==f&&(C=0,(n=e[0]._meta)&&n.ctor!==f)){for((g=n.chains)&&"manual"===g.constructor||p("calling chained constructor with inherited",this.declaredClass);(d=e[++C])&&(!(n=d._meta)||n.ctor!==f););C=d?C:-1}for(;(d=e[++C])&&!(b=(n=d._meta)?n.ctor:d););b=d&&b}D.c=b;D.p=C;if(b)return!0===
c?b:b.apply(this,c||a)}function b(a,c,b){return"string"===typeof a?"function"===typeof c?this.__inherited(a,c,b,!0):this.__inherited(a,c,!0):"function"===typeof a?this.__inherited(a,c,!0):this.__inherited(a,!0)}function c(a,c,b,e){var h=this.getInherited(a,c,b);if(h)return h.apply(this,e||b||c||a)}function e(a){for(var c=this.constructor._meta.bases,b=0,e=c.length;b<e;++b)if(c[b]===a)return!0;return this instanceof a}function h(c,b){for(var e in b)"constructor"!=e&&b.hasOwnProperty(e)&&(c[e]=b[e]);
if(a("bug-for-in-skips-shadowed"))for(var h=d._extraNames,g=h.length;g;)e=h[--g],"constructor"!=e&&b.hasOwnProperty(e)&&(c[e]=b[e])}function n(a){G.safeMixin(this.prototype,a);return this}function t(a,c){a instanceof Array||"function"===typeof a||(c=a,a=void 0);c=c||{};a=a||[];return G([this].concat(a),c)}function E(a,c){return function(){var b=arguments,e=b,h=b[0],g,f;f=a.length;var n;if(!(this instanceof b.callee))return B(b);if(c&&(h&&h.preamble||this.preamble))for(n=Array(a.length),n[0]=b,g=0;;){(h=
b[0])&&(h=h.preamble)&&(b=h.apply(this,b)||b);h=a[g].prototype;(h=h.hasOwnProperty("preamble")&&h.preamble)&&(b=h.apply(this,b)||b);if(++g==f)break;n[g]=b}for(g=f-1;0<=g;--g)h=a[g],(h=(f=h._meta)?f.ctor:h)&&h.apply(this,n?n[g]:b);(h=this.postscript)&&h.apply(this,e)}}function x(a,c){return function(){var b=arguments,e=b,h=b[0];if(!(this instanceof b.callee))return B(b);c&&(h&&(h=h.preamble)&&(e=h.apply(this,e)||e),(h=this.preamble)&&h.apply(this,e));a&&a.apply(this,b);(h=this.postscript)&&h.apply(this,
b)}}function A(a){return function(){var c=arguments,b=0,e,h;if(!(this instanceof c.callee))return B(c);for(;e=a[b];++b)if(e=(h=e._meta)?h.ctor:e){e.apply(this,c);break}(e=this.postscript)&&e.apply(this,c)}}function w(a,c,b){return function(){var e,h,g=0,f=1;b&&(g=c.length-1,f=-1);for(;e=c[g];g+=f)h=e._meta,(e=(h?h.hidden:e.prototype)[a])&&e.apply(this,arguments)}}function r(a){H.prototype=a.prototype;a=new H;H.prototype=null;return a}function B(a){var c=a.callee,b=r(c);c.apply(b,a);return b}function G(c,
m,C){"string"!=typeof c&&(C=m,m=c,c="");C=C||{};var D,u,Q,I,F,J,B,H=1,y=m;"[object Array]"==z.call(m)?(J=f(m,c),Q=J[0],H=J.length-Q,m=J[H]):(J=[0],m?"[object Function]"==z.call(m)?(Q=m._meta,J=J.concat(Q?Q.bases:m)):p("base class is not a callable constructor.",c):null!==m&&p("unknown base class. Did you use dojo.require to pull it in?",c));if(m)for(u=H-1;;--u){D=r(m);if(!u)break;Q=J[u];(Q._meta?h:v)(D,Q.prototype);I=a("csp-restrictions")?function(){}:new Function;I.superclass=m;I.prototype=D;m=D.constructor=
I}else D={};G.safeMixin(D,C);Q=C.constructor;Q!==O.constructor&&(Q.nom="constructor",D.constructor=Q);for(u=H-1;u;--u)(Q=J[u]._meta)&&Q.chains&&(B=v(B||{},Q.chains));D["-chains-"]&&(B=v(B||{},D["-chains-"]));m&&m.prototype&&m.prototype["-chains-"]&&(B=v(B||{},m.prototype["-chains-"]));Q=!B||!B.hasOwnProperty("constructor");J[0]=I=B&&"manual"===B.constructor?A(J):1==J.length?x(C.constructor,Q):E(J,Q);I._meta={bases:J,hidden:C,chains:B,parents:y,ctor:C.constructor};I.superclass=m&&m.prototype;I.extend=
n;I.createSubclass=t;I.prototype=D;D.constructor=I;D.getInherited=b;D.isInstanceOf=e;D.inherited=N;D.__inherited=g;c&&(D.declaredClass=c,d.setObject(c,I));if(B)for(F in B)D[F]&&"string"==typeof B[F]&&"constructor"!=F&&(Q=D[F]=w(F,J,"after"===B[F]),Q.nom=F);return I}var v=d.mixin,O=Object.prototype,z=O.toString,H,P=0;H=a("csp-restrictions")?function(){}:new Function;var N=m.config.isDebug?c:g;m.safeMixin=G.safeMixin=function(c,b){var e,h;for(e in b)h=b[e],h===O[e]&&e in O||"constructor"==e||("[object Function]"==
z.call(h)&&(h.nom=e),c[e]=h);if(a("bug-for-in-skips-shadowed")&&b)for(var g=d._extraNames,f=g.length;f;)e=g[--f],h=b[e],h===O[e]&&e in O||"constructor"==e||("[object Function]"==z.call(h)&&(h.nom=e),c[e]=h);return c};return m.declare=G})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(m,a,d,p){var f=m.Color=function(a){a&&this.setColor(a)};f.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,
0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:p.transparentColor||[0,0,0,0]};a.extend(f,{r:255,g:255,b:255,a:1,_set:function(a,b,c,e){this.r=a;this.g=b;this.b=c;this.a=e},setColor:function(g){a.isString(g)?f.fromString(g,this):a.isArray(g)?f.fromArray(g,this):(this._set(g.r,g.g,g.b,g.a),g instanceof f||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,
this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+d.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var b=this.r+", "+this.g+", "+this.b;return(a?"rgba("+b+", "+this.a:"rgb("+b)+")"},toString:function(){return this.toCss(!0)}});f.blendColors=m.blendColors=function(a,b,c,e){var h=e||new f;d.forEach(["r","g","b","a"],function(e){h[e]=a[e]+(b[e]-a[e])*c;"a"!=e&&(h[e]=Math.round(h[e]))});
return h.sanitize()};f.fromRgb=m.colorFromRgb=function(a,b){var c=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&f.fromArray(c[1].split(/\s*,\s*/),b)};f.fromHex=m.colorFromHex=function(a,b){var c=b||new f,e=4==a.length?4:8,h=(1<<e)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;d.forEach(["b","g","r"],function(b){var g=a&h;a>>=e;c[b]=4==e?17*g:g});c.a=1;return c};f.fromArray=m.colorFromArray=function(a,b){var c=b||new f;c._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));
isNaN(c.a)&&(c.a=1);return c.sanitize()};f.fromString=m.colorFromString=function(a,b){var c=f.named[a];return c&&f.fromArray(c,b)||f.fromRgb(a,b)||f.fromHex(a,b)};return f})},"esri/layers/vectorTiles/views/vectorTiles/style/Filter":function(){define(["require","exports"],function(m,a){var d=function(){function a(f,g,b){this._op=f;"$type"===g?(this._val=b instanceof Array?b.map(function(c){return a._types.indexOf(c)}):a._types.indexOf(b),this._op+=11):(this._key=g,this._val=b)}a.prototype.filter=function(a){switch(this._op){case 0:return this._val;
case 1:return a.values[this._key]===this._val;case 2:return a.values[this._key]!==this._val;case 3:return a.values[this._key]<this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=this._val;case 6:return a.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(a.values[this._key]);case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var g=0,b=this._val;g<b.length;g++){var c=b[g];if(c.filter(a))return!0}return!1;case 10:g=0;for(b=this._val;g<
b.length;g++)if(c=b[g],!c.filter(a))return!1;return!0;case 11:g=0;for(b=this._val;g<b.length;g++)if(c=b[g],c.filter(a))return!1;return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<this._val;case 15:return a.type>this._val;case 16:return a.type>=this._val;case 17:return a.type<=this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type)}};a.createFilter=function(f){if(!f)return new a(0,void 0,!0);var g=f[0];if(1>=
f.length)return new a(0,void 0,"any"!==g);switch(g){case "\x3d\x3d":return new a(1,f[1],f[2]);case "!\x3d":return new a(2,f[1],f[2]);case "\x3e":return new a(4,f[1],f[2]);case "\x3c":return new a(3,f[1],f[2]);case "\x3e\x3d":return new a(6,f[1],f[2]);case "\x3c\x3d":return new a(5,f[1],f[2]);case "in":return new a(7,f[1],f.slice(2));case "!in":return new a(8,f[1],f.slice(2));case "any":return new a(9,void 0,f.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,f.slice(1).map(a.createFilter.bind(this)));
case "none":return new a(11,void 0,f.slice(1).map(a.createFilter.bind(this)));default:throw Error("invalid operator: "+g);}};return a}();d._types=["Unknown","Point","LineString","Polygon"];return d})},"esri/layers/vectorTiles/views/vectorTiles/LineTess":function(){define(["require","exports"],function(m,a){function d(a){for(var c={items:[],count:0},b=0;b<a;++b)c.items.push(void 0);return c}function p(a,c){return a[0]*c[0]+a[1]*c[1]}function f(a){return Math.sqrt(p(a,a))}function g(a,c){var b=f(c);
a[0]=c[0]/b;a[1]=c[1]/b;return a}function b(a,c){a[0]=-c[1];a[1]=c[0];return a}function c(a,c){return a[0]*c[1]-a[1]*c[0]}function e(a,c){a[0]=-c[0];a[1]=-c[1];return a}function h(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;return a}function n(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];return a}function t(a,c){var b=p(a,c);return.999<b?0:-.999>b?Math.PI:Math.acos(b)}function E(a,c,b,e,g){if(0===e)a.count=0;else{var n=f(c),d=h(v[0],c,1/n);b=h(v[1],b,1/n);d=t(d,b);d=(g?-1:1)*d/e;g=Math.cos(d);d=Math.sin(d);b=c[0];var u=
c[1];for(c=0;c<e-1;++c)n=b,b=g*n-d*u,u=d*n+g*u,a.items[c][0]=b,a.items[c][1]=u;a.count=e-1}}function x(a){for(var c=a.count,b=Math.floor(c/2),e=0;e<b;++e){var h=a.items[e];a.items[e]=a.items[c-e-1];a.items[c-e-1]=h}}function A(a,c,h){h=b(v[0],h);c=e(v[1],h);var g=a.vectors.items[0];g.vector[0]=h[0];g.vector[1]=h[1];g.side=-1;h=a.vectors.items[1];h.vector[0]=c[0];h.vector[1]=c[1];h.side=1;a.vectors.count=2;c=a.lists[w.ENTRY];c.items[0]=0;c.items[1]=1;c.count=2;c=a.lists[w.EXIT];c.items[0]=0;c.items[1]=
1;c.count=2;a.lists[w.CAP].count=0;a.capCenter=void 0}var w;(function(a){a[a.ENTRY=1]="ENTRY";a[a.EXIT=2]="EXIT";a[a.CAP=3]="CAP"})(w=a.VectorRole||(a.VectorRole={}));var r;(function(a){a[a.START=1]="START";a[a.END=2]="END"})(r=a.CapPosition||(a.CapPosition={}));a.SYSTEM_MAG_LIMIT=3.8;a.MITER_SAFE_RADS=2*Math.acos(1/a.SYSTEM_MAG_LIMIT);var B=a.SYSTEM_MAG_LIMIT*a.SYSTEM_MAG_LIMIT,G=16/(2*Math.PI);a.allocTriangles=function(a){for(var c={items:[],count:0},b=0;b<a;++b)c.items.push({v1:{vector:[void 0,
void 0],side:void 0},v2:{vector:[void 0,void 0],side:void 0},v3:{vector:[void 0,void 0],side:void 0}});return c};a.allocExtrudeVectors=function(){for(var a={items:[],count:0},c=0;30>c;++c)a.items.push({vector:[void 0,void 0],side:void 0});c={};c[w.ENTRY]=d(20);c[w.EXIT]=d(20);c[w.CAP]=d(20);return{vectors:a,lists:c}};for(var v=[],O=0;32>O;++O)v.push([void 0,void 0]);var z=function(a){for(var c={items:[],count:0},b=0;b<a;++b)c.items.push([void 0,void 0]);return c}(16);a.length=f;a.normalize=g;a.getNumberOfSlices=
function(a){return Math.round(a*G)};a.getRads=t;var H=[void 0,void 0],P=[void 0,void 0];a.bridge=function(a,c,b,e){var h=c.vectors;c=c.lists[w.EXIT];var g=b.vectors;b=b.lists[w.ENTRY];var f,d;if(c.count===b.count+1)e=c.items,f=h.items,d=b.items,g=g.items;else if(b.count===c.count+1)e=b.items,f=g.items,d=c.items,g=h.items;else if(c.count===b.count)e?(e=c.items,f=h.items,d=b.items,g=g.items):(e=b.items,f=g.items,d=c.items,g=h.items);else throw Error("Cannot bridge "+c.count+" to "+b.count+".");h=c.count+
b.count-2;a.count=h;H[0]=e;H[1]=d;P[0]=f;P[1]=g;for(c=0;c<h;++c)g=a.items[c],b=(c+0)%2,b=P[b][H[b][Math.floor((c+0)/2)]],g.v1.vector[0]=b.vector[0],g.v1.vector[1]=b.vector[1],g.v1.side=b.side,g.v1.base=b.base,b=(c+1)%2,b=P[b][H[b][Math.floor((c+1)/2)]],g.v2.vector[0]=b.vector[0],g.v2.vector[1]=b.vector[1],g.v2.side=b.side,g.v2.base=b.base,b=(c+2)%2,b=P[b][H[b][Math.floor((c+2)/2)]],g.v3.vector[0]=b.vector[0],g.v3.vector[1]=b.vector[1],g.v3.side=b.side,g.v3.base=b.base};a.pie=function(a,c){if(0===
c.lists[w.CAP].count)a.count=0;else{if(1===c.lists[w.CAP].count)throw Error("A single vector is not enough to define a pie.");a.count=c.lists[w.CAP].count-1;for(var b=0;b<a.count;++b){var e=a.items[b],h=c.vectors.items[c.lists[w.CAP].items[b]];e.v1.vector[0]=h.vector[0];e.v1.vector[1]=h.vector[1];e.v1.side=h.side;e.v1.base=h.base;h=c.vectors.items[c.lists[w.CAP].items[b+1]];e.v2.vector[0]=h.vector[0];e.v2.vector[1]=h.vector[1];e.v2.side=h.side;e.v2.base=h.base;h=c.vectors.items[c.capCenter];e.v3.vector[0]=
h.vector[0];e.v3.vector[1]=h.vector[1];e.v3.side=h.side;e.v3.base=h.base}}};a.buttCap=function(a,c,b){A(a,c,b)};a.roundCap=function(a,c,b,e,h){A(a,c,b);b=e===r.START?0:1;e=e===r.START?1:0;a.capCenter=a.vectors.count;c=a.vectors.items[a.capCenter];c.vector[0]=0;c.vector[1]=0;c.side=0;++a.vectors.count;E(z,a.vectors.items[b].vector,a.vectors.items[e].vector,h,!1);h=a.vectors.count;c=a.lists[w.CAP];c.items[0]=b;b=a.vectors.items[b].side;for(var g=a.vectors.items[e].side,f=0;f<z.count;++f){var d=f<z.count/
2?b:g,n=z.items[f],u=a.vectors.items[h+f];u.vector[0]=n[0];u.vector[1]=n[1];u.side=d;c.items[f+1]=h+f}c.items[z.count+1]=e;c.count=z.count+2;a.vectors.count=h+z.count};var N=Math.cos(Math.PI/4),y=Math.sin(Math.PI/4),L=Math.sqrt(2);a.squareCap=function(a,c,b,e){A(a,c,b);c=e===r.START?0:1;b=e===r.START?1:0;var g=v[0],f=v[1],d=v[2],n=v[3];e=v[4];var u=a.vectors.items[c].vector;g[0]=N*u[0]-y*u[1];g[1]=y*u[0]+N*u[1];h(n,g,L);f[0]=N*g[0]-y*g[1];f[1]=y*g[0]+N*g[1];d[0]=N*f[0]-y*f[1];d[1]=y*f[0]+N*f[1];h(e,
d,L);c=a.vectors.items[c];c.vector[0]=n[0];c.vector[1]=n[1];a=a.vectors.items[b];a.vector[0]=e[0];a.vector[1]=e[1]};a.squareCapAlt=function(a,c,b,e){A(a,c,b);c=e===r.START?0:1;e=e===r.START?1:0;a.capCenter=a.vectors.count;b=a.vectors.items[a.capCenter];b.vector[0]=0;b.vector[1]=0;b.side=0;++a.vectors.count;var g=v[0],f=v[1],d=v[2],n=v[3];b=v[4];var u=a.vectors.items[c].vector;g[0]=N*u[0]-y*u[1];g[1]=y*u[0]+N*u[1];h(n,g,L);f[0]=N*g[0]-y*g[1];f[1]=y*g[0]+N*g[1];d[0]=N*f[0]-y*f[1];d[1]=y*f[0]+N*f[1];
h(b,d,L);g=a.vectors.count;f=a.lists[w.CAP];f.items[0]=c;d=a.vectors.items[g+0];d.vector[0]=n[0];d.vector[1]=n[1];d.side=a.vectors.items[c].side;f.items[1]=g+0;c=a.vectors.items[g+1];c.vector[0]=b[0];c.vector[1]=b[1];c.side=a.vectors.items[e].side;f.items[2]=g+1;f.items[3]=e;f.count=4;a.vectors.count+=2};a.fastMiterJoin=A;a.miterJoin=function(a,c,f){c=b(v[0],c);f=b(v[1],f);var d=v[2];d[0]=c[0]+f[0];d[1]=c[1]+f[1];f=g(v[3],d);c=p(f,c);f=h(v[4],f,1/c);c=e(v[5],f);d=a.vectors.items[0];d.vector[0]=f[0];
d.vector[1]=f[1];d.side=-1;f=a.vectors.items[1];f.vector[0]=c[0];f.vector[1]=c[1];f.side=1;a.vectors.count=2;c=a.lists[w.ENTRY];c.items[0]=0;c.items[1]=1;c.count=2;c=a.lists[w.EXIT];c.items[0]=0;c.items[1]=1;c.count=2;a.lists[w.CAP].count=0;a.capCenter=void 0};a.bevelJoin=function(a,f,d,t){var u=t*t;t=c(f,d);var r=0<t?[-1,1]:[1,-1],m=r[0],r=r[1],E=0<t?e(v[0],b(v[1],f)):b(v[2],f),z=0<t?e(v[3],b(v[4],d)):b(v[5],d),D=v[6];D[0]=E[0]+z[0];D[1]=E[1]+z[1];var D=g(v[7],D),C=e(v[8],D),G=p(D,E),A=c(D,E),H=
Math.abs(A/G),O=1+H*H,y=O<B?[H,!1]:[Math.sqrt(B-1),!0],A=y[0],y=y[1],H=O<u?[H,!1]:[Math.sqrt(u-1),!0],u=H[0];(H=H[1])&&y?(y=a.vectors.items[0],n(y.vector,e(v[9],E),h(v[10],e(v[11],f),A)),y.side=m,C=a.vectors.items[1],n(C.vector,e(v[12],z),h(v[13],d,A)),C.side=m,m=a.vectors.items[2],m.vector[0]=0,m.vector[1]=0,m.side=0,m=a.vectors.items[3],n(m.vector,E,h(v[14],f,u)),m.side=r,f=a.vectors.items[4],n(f.vector,z,h(v[15],e(v[16],d),u)),f.side=r,a.vectors.count=5,d=a.lists[w.ENTRY],d.items[0]=0,d.items[1]=
2,d.items[2]=3,d.count=3,d=a.lists[w.EXIT],d.items[0]=1,d.items[1]=2,d.items[2]=4,d.count=3,d=a.lists[w.CAP],d.items[0]=3,d.items[1]=4,d.count=2,a.capCenter=2):!H&&y?(y=a.vectors.items[0],n(y.vector,e(v[9],E),h(v[10],e(v[11],f),A)),y.side=m,C=a.vectors.items[1],n(C.vector,e(v[12],z),h(v[13],d,A)),C.side=m,m=a.vectors.items[2],m.vector[0]=0,m.vector[1]=0,m.side=0,m=a.vectors.items[3],h(m.vector,D,1/G),m.side=r,a.vectors.count=4,d=a.lists[w.ENTRY],d.items[0]=0,d.items[1]=2,d.items[2]=3,d.count=3,d=
a.lists[w.EXIT],d.items[0]=1,d.items[1]=2,d.items[2]=3,d.count=3,a.lists[w.CAP].count=0,a.capCenter=void 0):H&&!y?(y=a.vectors.items[0],h(y.vector,C,1/G),y.side=m,C=a.vectors.items[1],C.vector[0]=0,C.vector[1]=0,C.side=0,m=a.vectors.items[2],n(m.vector,E,h(v[9],f,u)),m.side=r,m=a.vectors.items[3],n(m.vector,z,h(v[10],e(v[11],d),u)),m.side=r,a.vectors.count=4,d=a.lists[w.ENTRY],d.items[0]=0,d.items[1]=1,d.items[2]=2,d.count=3,d=a.lists[w.EXIT],d.items[0]=0,d.items[1]=1,d.items[2]=3,d.count=3,d=a.lists[w.CAP],
d.items[0]=2,d.items[1]=3,d.count=2,a.capCenter=1):H||y||(y=a.vectors.items[0],h(y.vector,C,1/G),y.side=m,C=a.vectors.items[1],h(C.vector,D,1/G),C.side=r,a.vectors.count=2,d=a.lists[w.ENTRY],d.items[0]=0,d.items[1]=1,d.count=2,d=a.lists[w.EXIT],d.items[0]=0,d.items[1]=1,d.count=2,a.lists[w.CAP].count=0,a.capCenter=void 0);0>t&&(x(a.lists[w.ENTRY]),x(a.lists[w.EXIT]))};a.roundJoin=function(a,f,d,t){var m=c(f,d),r=0<m?[-1,1]:[1,-1],u=r[0],r=r[1],D=0<m?e(v[0],b(v[1],f)):b(v[2],f),A=0<m?e(v[3],b(v[4],
d)):b(v[5],d),G=v[6];G[0]=D[0]+A[0];G[1]=D[1]+A[1];var C=g(v[7],G),G=e(v[8],C),H=p(C,D),C=c(C,D),C=Math.abs(C/H),y=1+C*C<B?[C,!1]:[Math.sqrt(B-1),!0],C=y[0];y[1]?(y=a.vectors.items[0],y.vector[0]=D[0],y.vector[1]=D[1],y.side=r,y=a.vectors.items[1],y.vector[0]=A[0],y.vector[1]=A[1],y.side=r,y=a.vectors.items[2],n(y.vector,e(v[9],D),h(v[10],e(v[11],f),C)),y.side=u,f=a.vectors.items[3],n(f.vector,e(v[12],A),h(v[13],d,C)),f.side=u,d=a.vectors.items[4],d.vector[0]=0,d.vector[1]=0,d.side=0,a.vectors.count=
5,d=a.lists[w.ENTRY],d.items[0]=2,d.items[1]=4,d.items[2]=0,d.count=3,d=a.lists[w.EXIT],d.items[0]=3,d.items[1]=4,d.items[2]=1,d.count=3,a.capCenter=4):(y=a.vectors.items[0],y.vector[0]=D[0],y.vector[1]=D[1],y.side=r,y=a.vectors.items[1],y.vector[0]=A[0],y.vector[1]=A[1],y.side=r,y=a.vectors.items[2],h(y.vector,G,1/H),y.side=u,f=a.vectors.items[3],f.vector[0]=0,f.vector[1]=0,f.side=0,a.vectors.count=4,d=a.lists[w.ENTRY],d.items[0]=2,d.items[1]=3,d.items[2]=0,d.count=3,d=a.lists[w.EXIT],d.items[0]=
2,d.items[1]=3,d.items[2]=1,d.count=3,a.capCenter=3);E(z,D,A,t,0>m);t=a.vectors.count;D=a.lists[w.CAP];for(A=D.items[0]=0;A<z.count;++A)d=z.items[A],u=a.vectors.items[t+A],u.vector[0]=d[0],u.vector[1]=d[1],u.side=r,D.items[A+1]=t+A;D.items[z.count+1]=1;D.count=z.count+2;a.vectors.count=t+z.count;0>m&&(x(a.lists[w.ENTRY]),x(a.lists[w.EXIT]))};a.unitRoundJoin=function(a,h,g,f){var d=c(h,g),n=0<d?[-1,1]:[1,-1],t=n[0],n=n[1];h=0<d?e(v[0],b(v[1],h)):b(v[2],h);g=0<d?e(v[3],b(v[4],g)):b(v[5],g);var m=a.vectors.items[0];
m.vector[0]=h[0];m.vector[1]=h[1];m.side=n;m=a.vectors.items[1];m.vector[0]=g[0];m.vector[1]=g[1];m.side=n;m=a.vectors.items[2];e(m.vector,h);m.side=t;m=a.vectors.items[3];e(m.vector,g);m.side=t;t=a.vectors.items[4];t.vector[0]=0;t.vector[1]=0;t.side=0;a.vectors.count=5;t=a.lists[w.ENTRY];t.items[0]=2;t.items[1]=4;t.items[2]=0;t.count=3;t=a.lists[w.EXIT];t.items[0]=3;t.items[1]=4;t.items[2]=1;t.count=3;a.capCenter=4;E(z,h,g,f,0>d);f=a.vectors.count;h=a.lists[w.CAP];for(t=h.items[0]=0;t<z.count;++t)g=
z.items[t],m=a.vectors.items[f+t],m.vector[0]=g[0],m.vector[1]=g[1],m.side=n,h.items[t+1]=f+t;h.items[z.count+1]=1;h.count=z.count+2;a.vectors.count=f+z.count;0>d&&(x(a.lists[w.ENTRY]),x(a.lists[w.EXIT]))};a.rectJoin=function(a,c,h){c=b(v[0],c);h=b(v[1],h);var g=a.vectors.items[0];g.vector[0]=c[0];g.vector[1]=c[1];g.side=-1;g=a.vectors.items[1];g.vector[0]=h[0];g.vector[1]=h[1];g.side=-1;g=a.vectors.items[2];e(g.vector,c);g.side=1;c=a.vectors.items[3];e(c.vector,h);c.side=1;a.vectors.count=4;c=a.lists[w.ENTRY];
c.items[0]=0;c.items[1]=2;c.count=2;c=a.lists[w.EXIT];c.items[0]=1;c.items[1]=3;c.count=2;a.capCenter=void 0}})},"esri/layers/vectorTiles/views/vectorTiles/SymbolBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./Bucket ./Geometry ./style/StyleLayer ./Placement ./GeometryUtils ./TextShaping dojox/string/BidiEngine".split(" "),function(m,a,d,p,f,g,b,c,e,h,n){function t(a,c){if(a.iconMosaicItem&&c.iconMosaicItem){if(a.iconMosaicItem.page!==
c.iconMosaicItem.page)return a.iconMosaicItem.page<c.iconMosaicItem.page?-1:1}else{if(a.iconMosaicItem&&!c.iconMosaicItem)return 1;if(!a.iconMosaicItem&&c.iconMosaicItem)return-1}return 0}var E=function(){return function(){}}(),x=function(){return function(a,c,b,e){this.line=c;this.shaping=a;this.iconMosaicItem=b;this.anchor=e}}();(function(){return function(){}})();m=function(a){function f(c,b,e,h,g,f,d,n){c=a.call(this,c,b)||this;c._markerRatio=1;c._markerMap=new Map;c._markerVertexBuffer=e;c._markerIndexBuffer=
h;c._textVertexBuffer=g;c._textIndexBuffer=f;c._placementEngine=d;c._workerTileHandler=n;return c}d(f,a);Object.defineProperty(f.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"textIndexStart",{get:function(){return this._textTriangleElementsStart},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"textIndexCount",{get:function(){return this._textTriangleElementsNum},enumerable:!0,configurable:!0});
Object.defineProperty(f.prototype,"sdfMarker",{get:function(){return!1},enumerable:!0,configurable:!0});f.prototype.copy=function(a,c,b,e,h){h=new f(this.layer,this.zoom,a,c,b,e,h,this._workerTileHandler);h.layerIndex=this.layerIndex;h.layerExtent=this.layerExtent;h._markerVertexStart=a.index;h._markerTriangleElementsStart=c.index;h._textVertexStart=b.index;h._textTriangleElementsStart=e.index;h._markerTriangleElementsNum=0;h._textTriangleElementsNum=0;h._symbolInstances=this._symbolInstances;h._glyphItems=
this._glyphItems;h._textLayout=this._textLayout;h._markerLayout=this._markerLayout;h._isLinePlacement=this._isLinePlacement;h._avoidEdges=this._avoidEdges;return h};f.prototype.getResources=function(a,c,b){var e=this.layer,h=this.zoom;a&&a.setExtent(this.layerExtent);for(var g=e.getLayoutValue("icon-image",h),d=e.getLayoutValue("text-field",h),n=e.getLayoutValue("text-font",h),e=e.getLayoutValue("text-transform",h),h=[],t=0,m=this._features;t<m.length;t++){var x=m[t],r=x.getGeometry(a);if(r&&0!==
r.length){var p=void 0;g&&(p=this._replaceKeys(g,x.values))&&c.add(p);var u=void 0,A=!1;if(d){u=this._replaceKeys(d,x.values);switch(e){case 2:u=u.toLowerCase();break;case 1:u=u.toUpperCase()}f._bidiEngine.hasBidiChar(u)&&(A=void 0,A="rtl"===f._bidiEngine.checkContextual(u)?"IDNNN":"ICNNN",u=f._bidiEngine.bidiTransform(u,A,"VLYSN"),A=!0);x=u.length;if(0<x){var G=b[n];G||(G=b[n]=new Set);for(var w=0;w<x;w++){var B=u.charCodeAt(w);G.add(B)}}}if(p||u)x=new E,x.sprite=p,x.label=u,x.rtl=A,x.geometry=r,
h.push(x)}}this._symbolFeatures=h};f.prototype.processFeatures=function(a,g){a&&a.setExtent(this.layerExtent);var d=this.layer,n=this.zoom,m=this._isLinePlacement=1===d.getLayoutValue("symbol-placement",n),r=this._avoidEdges=d.getLayoutValue("symbol-avoid-edges",n)&&!m,E=8*d.getLayoutValue("symbol-spacing",n),p=d.getLayoutValue("icon-image",n),A=d.getLayoutValue("text-field",n),w=this._workerTileHandler,B;p&&(this._markerLayout=new b.IconLayout(d,n,m),B=w.getSpriteItems());var C,D;if(A){var u=this._textLayout=
new b.TextLayout(d,n,m);C=void 0;u.font&&u.font.length&&(C=u.font[0]);D=.5;switch(u.anchor){case 5:case 1:case 7:D=0;break;case 6:case 2:case 8:D=1}d=.5;switch(u.anchor){case 5:case 3:case 6:d=0;break;case 7:case 4:case 8:d=1}n=.5;switch(u.justify){case 0:n=0;break;case 2:n=1}var p=24*u.letterSpacing,A=m?0:24*u.maxWidth,Q=24*u.lineHeight,u=[24*u.offset[0],24*u.offset[1]];C=w.getGlyphItems(C);D=new h(C,A,Q,p,u,D,d,n)}this._markerVertexStart=this._markerVertexBuffer.index;this._markerTriangleElementsStart=
this._markerIndexBuffer.index;this._textVertexStart=this._textVertexBuffer.index;this._textTriangleElementsStart=this._textIndexBuffer.index;this._textTriangleElementsNum=this._markerTriangleElementsNum=0;this._markerMap.clear();this._symbolInstances=w=[];this._glyphItems=C;d=this._textLayout;n=1;d&&d.size&&(n=d.size/24);p=d?d.maxAngle*e.C_DEG_TO_RAD:0;A=d?8*d.size:0;Q=0;for(u=this._symbolFeatures;Q<u.length;Q++){var I=u[Q],F=void 0;I.sprite&&(F=B[I.sprite]);var J=void 0,T=I.label,S=0;if(T&&(J=D.getShaping(T,
I.rtl))&&0<J.length){for(var S=1E30,T=-1E30,R=0,U=J;R<U.length;R++)var V=U[R],S=Math.min(S,V.x),T=Math.max(T,V.x);S=(T-S+48)*n*8}T=0;for(I=I.geometry;T<I.length;T++)for(R=I[T],V=void 0,m?(J&&0<J.length&&d&&d.size&&f._smoothVertices(R,8*d.size*(2+Math.min(2,4*Math.abs(d.offset[1])))),V=f._findAnchors(R,E,S)):V=[new c.Anchor(R[0].x,R[0].y)],U=0;U<V.length;U++){var Y=V[U];0>Y.x||4096<Y.x||0>Y.y||4096<Y.y||m&&0<S&&0===d.rotationAlignment&&!f._honorsTextMaxAngle(R,Y,S,p,A)||w.push(new x(J,R,F,Y))}}w.sort(t);
for(m=0;m<w.length;m++)this._processFeature(w[m],C,r)};f.prototype.updateSymbols=function(){this._markerVertexStart=this._markerVertexBuffer.index;this._markerTriangleElementsStart=this._markerIndexBuffer.index;this._textVertexStart=this._textVertexBuffer.index;this._textTriangleElementsStart=this._textIndexBuffer.index;this._textTriangleElementsNum=this._markerTriangleElementsNum=0;this._markerMap.clear();for(var a=this._glyphItems,c=this._avoidEdges,b=0,e=this._symbolInstances;b<e.length;b++)this._processFeature(e[b],
a,c)};f.prototype._replaceKeys=function(a,c){return a.replace(/{([^{}]+)}/g,function(a,b){return b in c?c[b]:""})};f.prototype._processFeature=function(a,c,b){var h=a.line,f=a.iconMosaicItem,d=a.shaping,n=a.anchor,t=(a=this._markerLayout)&&!!f,m=!0,x=1;t&&(x=a.size/(1/this._markerRatio)*8,m=a.optional||!f);var E=this._textLayout,p=E&&d&&0<d.length,r;r=1;var u=!0;p&&(r=E.size/24,r*=8,u=E.optional||!d||0===d.length);var A=new g.Point(0,-17),w;if(t){w=this._placementEngine.getIconPlacement(n,f,x,h,a,
b);if(w.footprint.minzoom===e.C_INFINITY&&!m)return;n.minzoom>w.footprint.minzoom&&(w.footprint.minzoom=n.minzoom)}var B;if(p&&(B=this._placementEngine.getTextPlacement(n,A,d,c,r,h,E,b))){if(B.footprint.minzoom===e.C_INFINITY&&!u)return;n.minzoom>B.footprint.minzoom&&(B.footprint.minzoom=n.minzoom)}if(!u&&!m||!m&&B&&B.footprint.minzoom!==e.C_INFINITY||!u&&w&&w.footprint.minzoom!==e.C_INFINITY)c=Math.max(w.footprint.minzoom,B.footprint.minzoom),w.footprint.minzoom=c,B.footprint.minzoom=c;B&&B.footprint.minzoom!==
e.C_INFINITY&&(E.ignorePlacement||this._placementEngine.add(B),this._addPlacedSymbols(B.shapes,B.footprint.minzoom,this.zoom,!1));w&&w.footprint.minzoom!==e.C_INFINITY&&(a.ignorePlacement||this._placementEngine.add(w),this._addPlacedSymbols(w.shapes,w.footprint.minzoom,this.zoom,!0,f.page))};f.prototype._addPlacedSymbols=function(a,c,b,h,g){void 0===g&&(g=-1);c=Math.max(b+e.log2(c),0);for(var f=0;f<a.length;f++){var d=a[f],n=Math.max(b+e.log2(d.minzoom),c),t=Math.min(b+e.log2(d.maxzoom),25);if(!(t<=
n)){var m=d.tl,x=d.tr,E=d.bl,v=d.br,p=d.mosaicRect,r=-d.labelAngle,d=d.anchor,A=h?this._markerVertexBuffer:this._textVertexBuffer,w=h?this._markerIndexBuffer:this._textIndexBuffer,B=A.index,G=p.x,O=p.y,R=G+p.width,p=O+p.height;A.add(d.x,d.y,m.x,m.y,G,O,r,n,t,c);A.add(d.x,d.y,x.x,x.y,R,O,r,n,t,c);A.add(d.x,d.y,E.x,E.y,G,p,r,n,t,c);A.add(d.x,d.y,v.x,v.y,R,p,r,n,t,c);w.add(B+0,B+1,B+2);w.add(B+1,B+2,B+3);h?(this._markerMap.has(g)?this._markerMap.get(g)[1]+=6:this._markerMap.set(g,[this._markerTriangleElementsStart+
this._markerTriangleElementsNum/3,6]),this._markerTriangleElementsNum+=6):this._textTriangleElementsNum+=6}}};f._findAnchors=function(a,b,h){b+=h;for(var d=0,f=a.length-1,n=0;n<f;n++)d+=g.Point.distance(a[n],a[n+1]);n=.5*(h||b);if(d<=n)return[];h=n/d;b=d/Math.max(Math.round(d/b),1);for(var d=0,f=-b/2,t=[],m=a.length-1,n=0;n<m;n++){for(var x=a[n],E=a[n+1],p=E.x-x.x,r=E.y-x.y,A=Math.sqrt(p*p+r*r),u=void 0;f+b<d+A;){var f=f+b,w=(f-d)/A,B=e.interpolate(x.x,E.x,w),w=e.interpolate(x.y,E.y,w);void 0===u&&
(u=Math.atan2(r,p));t.push(new c.Anchor(B,w,u,n,h))}d+=A}return t};f.deviation=function(a,c,b){return Math.atan2((c.x-a.x)*(b.y-c.y)-(c.y-a.y)*(b.x-c.x),(c.x-a.x)*(b.x-c.x)+(c.y-a.y)*(b.y-c.y))};f._honorsTextMaxAngle=function(a,c,b,e,h){var d=0;b/=2;for(var f=new g.Point(c.x,c.y),n=c.segment+1;d>-b;){--n;if(0>n)return!1;d-=g.Point.distance(a[n],f);f=a[n]}d+=g.Point.distance(a[n],a[n+1]);c=[];for(var f=0,t=a.length;d<b;){var m=a[n],x=void 0;do{++n;if(n===t)return!1;x=a[n]}while(x.isEqual(m));var E=
n,p=void 0;do{++E;if(E===t)return!1;p=a[E]}while(p.isEqual(x));m=this.deviation(m,x,p);c.push({deviation:m,distToAnchor:d});for(f+=m;d-c[0].distToAnchor>h;)f-=c.shift().deviation;if(Math.abs(f)>e)return!1;d+=g.Point.distance(x,p)}return!0};f._smoothVertices=function(a,c){if(!(0>=c)){var b=a.length;if(!(3>b)){var e=[],h=0;e.push(0);for(var d=1;d<b;d++)h+=g.Point.distance(a[d],a[d-1]),e.push(h);c=Math.min(c,.2*h);h=[];h.push(a[0].x);h.push(a[0].y);var f=a[b-1].x,n=a[b-1].y,d=g.Point.sub(a[0],a[1]);
d.normalize();a[0].x+=c*d.x;a[0].y+=c*d.y;d.assignSub(a[b-1],a[b-2]);d.normalize();a[b-1].x+=c*d.x;a[b-1].y+=c*d.y;for(d=1;d<b;d++)e[d]+=c;e[b-1]+=c;for(var t=.5*c,d=1;d<b-1;d++){for(var m=0,x=0,E=0,p=d-1;0<=p&&!(e[p+1]<e[d]-t);p--){var A=t+e[p+1]-e[d],w=e[p+1]-e[p],r=e[d]-e[p]<t?1:A/w;if(1E-6>Math.abs(r))break;var B=r*r,J=r*A-.5*B*w,T=r*w/c,S=a[p+1],R=a[p].x-S.x,U=a[p].y-S.y,m=m+T/J*(S.x*r*A+.5*B*(A*R-w*S.x)-B*r*w*R/3),x=x+T/J*(S.y*r*A+.5*B*(A*U-w*S.y)-B*r*w*U/3),E=E+T}for(p=d+1;p<b&&!(e[p-1]>e[d]+
t);p++){A=t-e[p-1]+e[d];w=e[p]-e[p-1];r=e[p]-e[d]<t?1:A/w;if(1E-6>Math.abs(r))break;B=r*r;J=r*A-.5*B*w;T=r*w/c;S=a[p-1];R=a[p].x-S.x;U=a[p].y-S.y;m+=T/J*(S.x*r*A+.5*B*(A*R-w*S.x)-B*r*w*R/3);x+=T/J*(S.y*r*A+.5*B*(A*U-w*S.y)-B*r*w*U/3);E+=T}h.push(m/E);h.push(x/E)}h.push(f);h.push(n);for(p=d=0;d<b;d++)a[d].x=h[p++],a[d].y=h[p++]}}};return f}(f);m._bidiEngine=new n;return m})},"esri/layers/vectorTiles/views/vectorTiles/Placement":function(){define(["require","exports","./Geometry","./GeometryUtils",
"./Conflict"],function(m,a,d,p,f){m=function(){return function(a,c,b,d,f){void 0===b&&(b=0);void 0===d&&(d=-1);void 0===f&&(f=e);this.x=a;this.y=c;this.angle=b;this.segment=d;this.minzoom=f}}();a.Anchor=m;m=function(){return function(a,c,b){this.glyph=a;this.x=c;this.y=b}}();a.ShapedGlyph=m;var g=function(){return function(a,c,b,d,f,g){void 0===d&&(d=!1);void 0===f&&(f=e);void 0===g&&(g=p.C_INFINITY);this.anchor=a;this.labelAngle=c;this.glyphAngle=b;this.upsideDown=d;this.minzoom=f;this.maxzoom=g}}(),
b=function(){return function(a,c,b,e,d,f,g,m,p){this.tl=a;this.tr=c;this.bl=b;this.br=e;this.mosaicRect=d;this.labelAngle=f;this.anchor=g;this.minzoom=m;this.maxzoom=p}}();a.PlacedSymbol=b;var c=function(){return function(a,c){this.footprint=a;this.shapes=c}}();a.Placement=c;var e=.5;m=function(){function a(a){this.mapAngle=a;this._conflictEngine=new f.ConflictEngine(a)}a.prototype.getIconPlacement=function(a,h,g,m,A,w){var n=h.width/h.pixelRatio,t=h.height/h.pixelRatio;m=A.offset[0]-n/2;var x=A.offset[1]-
t/2,n=m+n,t=x+t,E=h.rect,O=m-1,z=x-1,H=O+E.width/h.pixelRatio,P=z+E.height/h.pixelRatio;h=new d.Point(O,z);var N=new d.Point(H,P),O=new d.Point(O,P),H=new d.Point(H,z),P=A.rotate*p.C_DEG_TO_RAD,z=1===A.rotationAlignment;0<=a.segment&&!z&&(P+=a.angle);if(0!==P){var y=Math.cos(P),L=Math.sin(P);h.rotate(y,L);N.rotate(y,L);O.rotate(y,L);H.rotate(y,L)}y=8*A.padding;L=new d.Point(a.x,a.y);a=new f.Footprint(this.mapAngle,y,z);a.addBox(L,new f.Box(m,x,n,t),g,P,e,p.C_INFINITY);g=new b(h,H,O,N,E,0,L,e,p.C_INFINITY);
g=new c(a,[g]);m=e;A.allowOverlap||(m=this._conflictEngine.getMinZoom(g.footprint,m,w,z));a.minzoom=m;return g};a.prototype.getTextPlacement=function(a,h,m,x,A,w,r,B){for(var n=new d.Point(a.x,a.y),t=r.rotate*p.C_DEG_TO_RAD,E=0===r.rotationAlignment,z=r.keepUpright,H=e,P=!E,N=P?0:a.angle,y=0<=a.segment&&E,L=new f.Footprint(this.mapAngle,8*r.padding,P),C=[],D=!y,u=Number.POSITIVE_INFINITY,Q=Number.NEGATIVE_INFINITY,I=u,F=Q,J=y?z:E&&z,T=[],S,R=0;R<m.length;R++){var U=m[R],V=x[U.glyph];if(V){var Y=V.rect;
if(!(!Y||0>=Y.width||0>=Y.height)){var ea=V.metrics;D&&(S&&S!==U.y&&(L.addBox(n,new f.Box(u,I,Q,F),A,t,e,p.C_INFINITY),u=Number.POSITIVE_INFINITY,Q=Number.NEGATIVE_INFINITY,I=u,F=Q),S=U.y);var fa=[];if(y){if(V=(h.x+U.x+ea.left-3+.5*V.metrics.width)*A,H=this._placeGlyph(a,H,V,w,a.segment,1,fa),z&&(H=this._placeGlyph(a,H,V,w,a.segment,-1,fa)),2<=H)break}else fa.push(new g(n,N,N)),E&&z&&fa.push(new g(n,N+p.C_PI,N+p.C_PI,!0));for(var V=U.x+h.x+ea.left,U=U.y+h.y-ea.top,ja=V+ea.width,ea=U+ea.height,da=
new d.Point(V-3,U-3),Z=new d.Point(da.x+Y.width,da.y+Y.height),ga=new d.Point(da.x,Z.y),X=new d.Point(Z.x,da.y),ha=0;ha<fa.length;ha++){var ba=fa[ha],ka=da.clone(),la=ga.clone(),ma=X.clone(),na=Z.clone(),oa=U,ca=ea,K=ba.glyphAngle+t;if(0!==K){var W=Math.cos(K),k=Math.sin(K);ka.rotate(W,k);na.rotate(W,k);la.rotate(W,k);ma.rotate(W,k)}C.push(new b(ka,ma,la,na,Y,ba.labelAngle,ba.anchor,ba.minzoom,ba.maxzoom));if(!J||this._legible(ba.labelAngle))D?(V<u&&(u=V),oa<I&&(I=oa),ja>Q&&(Q=ja),ca>F&&(F=ca)):2>
ba.minzoom&&L.addBox(ba.anchor,new f.Box(V,oa,ja,ca),A,K,ba.minzoom,ba.maxzoom);T.push(ba)}}}}if(2<=H)return null;D&&L.addBox(n,new f.Box(u,I,Q,F),A,t,e,p.C_INFINITY);a=new c(L,C);r.allowOverlap||(H=this._conflictEngine.getMinZoom(a.footprint,H,B,P));L.minzoom=H;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};a.prototype._legible=function(a){a=p.radToByte(a);return 65>a||193<=a};a.prototype._placeGlyph=function(a,c,b,e,h,f,m){var n=0>f?p.positiveMod(a.angle+p.C_PI,p.C_2PI):
a.angle,t=this._legible(n),x=0;0>b&&(f*=-1,b*=-1,x=p.C_PI);0<f&&++h;a=new d.Point(a.x,a.y);var E=e[h],A=p.C_INFINITY;if(e.length<=h)return A;for(;;){var w=E.x-a.x,r=E.y-a.y,N=Math.sqrt(w*w+r*r),y=Math.max(b/N,c),w=p.positiveMod(Math.atan2(r/N,w/N)+x,p.C_2PI);m.push(new g(a,n,w,t,y,A));if(y<=c)return y;a=E.clone();do{h+=f;if(e.length<=h||0>h)return y;E=e[h]}while(a.isEqual(E));A=E.x-a.x;w=E.y-a.y;r=Math.sqrt(A*A+w*w);A*=N/r;w*=N/r;a.x-=A;a.y-=w;A=y}};return a}();a.PlacementEngine=m})},"esri/layers/vectorTiles/views/vectorTiles/Conflict":function(){define(["require",
"exports","./Geometry","./GeometryUtils"],function(m,a,d,p){m=function(){function a(a,b,h,d){this.left=a;this.top=b;this.right=h;this.bottom=d}a.prototype.clone=function(){return new a(this.left,this.top,this.right,this.bottom)};a.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};a.prototype.rotate=function(a,b){var c=this.left,e=this.right,d=this.top,f=this.bottom,g=c*a-d*b,m=c*b+d*a,p=e*a-d*b,d=e*b+d*a,r=c*a-f*b,c=c*b+f*a,B=e*a-f*b,e=e*b+f*a;this.left=Math.min(g,
p,r,B);this.top=Math.min(m,d,c,e);this.right=Math.max(g,p,r,B);this.bottom=Math.max(m,d,c,e)};a.overlaps=function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return a}();a.Box=m;var f=function(){function a(a,b,h,d){this.anchor=a;this.corners=b;this.minzoom=h;this.maxzoom=d}a.prototype.left=function(){return this.corners[0].x};a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};
return a}();a.Obstacle=f;m=function(){function a(a,b,h){this.obstacles=[];this.mapAngle=a;this.padding=b;this.isScreenAligned=h;this.minzoom=g}a.prototype.addBox=function(a,b,h,g,m,p){var c=b.left*h-this.padding,e=b.top*h-this.padding,n=b.right*h+this.padding;b=b.bottom*h+this.padding;c=[new d.Point(c,e),new d.Point(n,e),new d.Point(n,b),new d.Point(c,b)];0!==this.mapAngle&&(e=Math.cos(this.mapAngle),n=Math.sin(this.mapAngle),a=a.clone(),a.rotate(e,n));this.isScreenAligned||(g+=this.mapAngle);if(0!==
g){e=Math.cos(g);n=Math.sin(g);c[0].rotate(e,n);c[1].rotate(e,n);c[2].rotate(e,n);c[3].rotate(e,n);g=0;for(e=1;4>e;e++)c[e].x<c[g].x?g=e:c[e].x===c[g].x&&c[e].y<c[g].y&&(g=e);if(g){n=[];for(e=0;4>e;e++)n.push(c[(e+g)%4]);c=n}}this.obstacles.push(new f(a,c,m,p))};return a}();a.Footprint=m;var g=.5;m=function(){function a(a){this._grid=[];this._angle=a;this._c=Math.cos(a);this._s=Math.sin(a)}a.prototype.add=function(c){var b=this._grid,h=0;for(c=c.obstacles;h<c.length;h++)for(var d=c[h],f=d.anchor,
g=a._gridClamp(Math.min(d.left()+f.x,f.x)),m=a._gridClamp(Math.max(d.right()+f.x,f.x)),p=a._gridClamp(Math.min(d.top()+f.y,f.y)),f=a._gridClamp(Math.max(d.bottom()+f.y,f.y));p<=f;p++)for(var w=g;w<=m;w++){var r=b[16*p+w];r||(r=b[16*p+w]=[]);r.push(d)}};a.prototype.getMinZoom=function(c,b,h,d){if(0===c.obstacles.length)return p.C_INFINITY;h=this._grid;d=0;for(c=c.obstacles;d<c.length;d++)for(var e=c[d],f=e.anchor,g=a._gridClamp(Math.min(e.left()+f.x,f.x)),n=a._gridClamp(Math.max(e.right()+f.x,f.x)),
m=a._gridClamp(Math.min(e.top()+f.y,f.y)),f=a._gridClamp(Math.max(e.bottom()+f.y,f.y));m<=f;m++)for(var r=g;r<=n;r++){var B=h[16*m+r];if(B)for(var G=0;G<B.length;G++){var v=B[G];if(!(e.minzoom>=v.maxzoom||v.minzoom>=e.maxzoom)&&(b=a._calcPlacementZoom(e,v,b),2<=b))return p.C_INFINITY}}return 2>b?b:p.C_INFINITY};a._gridClamp=function(a){return p.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(c,b,h){var e=b.anchor.x-c.anchor.x;if(0===e&&(c.right()<b.left()||b.right()<c.left()))return h;var d=b.anchor.y-
c.anchor.y;if(0===d&&(c.bottom()<b.top()||b.bottom()<c.top()))return h;var f=p.C_INFINITY;if(0!==e){var g=(0<e?c.right()-b.left():c.left()-b.right())/e;g<f&&(f=g);e=0<e?a._calcExtZoomX(c,b,g):a._calcExtZoomX(b,c,g);e<f&&(f=e)}0!==d&&(e=(0<d?c.bottom()-b.top():c.top()-b.bottom())/d,e<f&&(f=e),d=0<d?a._calcExtZoomY(c,b,e):a._calcExtZoomY(b,c,e),d<f&&(f=d));if(f<c.minzoom||f<b.minzoom)return h;f=Math.min(f,c.maxzoom,b.maxzoom);f<h&&(f=h);return f};a._calcExtZoomX=function(a,b,h){var c,e,d;if(a.anchor.y+
a.corners[2].y/h<b.anchor.y+b.corners[0].y/h){c=a.corners[2].x-a.corners[3].x;d=a.corners[2].y-a.corners[3].y;var f=b.corners[1].x-b.corners[0].x;e=b.corners[1].y-b.corners[0].y;0<=c*e-d*f?a.anchor.y+a.corners[3].y/h<b.anchor.y+b.corners[0].y/h?(h=a.corners[3],c=b.corners[0],e=b.corners[1],d=1):(h=b.corners[0],c=a.corners[3],e=a.corners[2],d=-1):a.anchor.y+a.corners[2].y/h>b.anchor.y+b.corners[1].y/h?(h=a.corners[2],c=b.corners[0],e=b.corners[1],d=1):(h=b.corners[1],c=a.corners[3],e=a.corners[2],
d=-1)}else c=a.corners[2].x-a.corners[1].x,d=a.corners[2].y-a.corners[1].y,f=b.corners[3].x-b.corners[0].x,e=b.corners[3].y-b.corners[0].y,0>c*e-d*f?a.anchor.y+a.corners[1].y/h>b.anchor.y+b.corners[0].y/h?(h=a.corners[1],c=b.corners[0],e=b.corners[3],d=1):(h=b.corners[0],c=a.corners[1],e=a.corners[2],d=-1):a.anchor.y+a.corners[2].y/h<b.anchor.y+b.corners[3].y/h?(h=a.corners[2],c=b.corners[0],e=b.corners[3],d=1):(h=b.corners[3],c=a.corners[1],e=a.corners[2],d=-1);f=e.x-c.x;e=e.y-c.y;return d*((h.y-
c.y)*f-(h.x-c.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*f)};a._calcExtZoomY=function(a,b,h){var c,e,d;if(a.anchor.x+a.corners[3].x/h<b.anchor.x+b.corners[1].x/h){c=a.corners[3].x-a.corners[2].x;d=a.corners[3].y-a.corners[2].y;var f=b.corners[0].x-b.corners[1].x;e=b.corners[0].y-b.corners[1].y;0>c*e-d*f?a.anchor.x+a.corners[2].x/h<b.anchor.x+b.corners[1].x/h?(h=a.corners[2],c=b.corners[1],e=b.corners[0],d=1):(h=b.corners[1],c=a.corners[2],e=a.corners[3],d=-1):a.anchor.x+a.corners[3].x/
h>b.anchor.x+b.corners[0].x/h?(h=a.corners[3],c=b.corners[1],e=b.corners[0],d=1):(h=b.corners[0],c=a.corners[2],e=a.corners[3],d=-1)}else c=a.corners[3].x-a.corners[0].x,d=a.corners[3].y-a.corners[0].y,f=b.corners[2].x-b.corners[1].x,e=b.corners[2].y-b.corners[1].y,0<c*e-d*f?a.anchor.x+a.corners[0].x/h>b.anchor.x+b.corners[1].x/h?(h=a.corners[0],c=b.corners[1],e=b.corners[2],d=1):(h=b.corners[1],c=a.corners[0],e=a.corners[3],d=-1):a.anchor.x+a.corners[3].x/h<b.anchor.x+b.corners[2].x/h?(h=a.corners[3],
c=b.corners[1],e=b.corners[2],d=1):(h=b.corners[2],c=a.corners[0],e=a.corners[3],d=-1);f=e.x-c.x;e=e.y-c.y;return d*((h.y-c.y)*f-(h.x-c.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*f)};return a}();a.ConflictEngine=m})},"esri/layers/vectorTiles/views/vectorTiles/TextShaping":function(){define(["require","exports","./Placement"],function(m,a,d){return function(){function a(a,d,b,c,e,h,n,m){this._glyphItems=a;this._maxWidth=d;this._lineHeight=b;this._letterSpacing=c;this._offset=e;this._hAnchor=
h;this._vAnchor=n;this._justify=m}a.prototype.getShaping=function(a,g){for(var b=this._glyphItems,c=this._letterSpacing,e=this._offset[0],h=this._offset[1],f=[],m=a.length,p=0;p<m;p++){var x=a.charCodeAt(p),A=b[x];A&&(f.push(new d.ShapedGlyph(x,e,h)),e+=A.metrics.advance+c)}if(0<f.length){A=this._maxWidth;b=this._lineHeight;e=this._justify;h=f.length;x=m=c=0;if(0!==A)for(var w=0,r=0,p=0;p<h;p++){var B=f[p];B.x-=r;B.y=g?B.y-b*c:B.y+b*c;if(B.x>A&&0<w){for(var G=f[w+1].x,x=Math.max(G,x),v=w+1;v<=p;v++)f[v].y=
g?f[v].y-b:f[v].y+b,f[v].x-=G;e&&this._applyJustification(f,m,w-1);m=w+1;w=0;r+=G;c++}32===B.glyph&&(w=p)}p=f[h-1];x=Math.max(x,p.x+this._glyphItems[p.glyph].metrics.advance);e&&this._applyJustification(f,m,h-1);p=(e-this._hAnchor)*x;e=(-this._vAnchor*(c+1)+.5)*b;g&&c&&(e+=c*b);for(b=0;b<f.length;b++)c=f[b],c.x+=p,c.y+=e}return f};a.prototype._applyJustification=function(a,d,b){for(var c=a[b],c=(c.x+this._glyphItems[c.glyph].metrics.advance)*this._justify;d<=b;d++)a[d].x-=c};return a}()})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dojo/Stateful"],function(m,a,d){function p(a,b,e,h,d){var k=a;void 0===b&&(b=d.defInFormat);void 0===e&&(e=d.defOutFormat);void 0===h&&(h=d.defSwap);if(b!==e){var l,n=b.substring(0,1);l=b.substring(1,4);var m=e.substring(0,1),t=e.substring(1,4);"C"===l.charAt(0)&&(l=f(k),l="ltr"===l||"rtl"===l?l.toUpperCase():"L"===b.charAt(2)?"LTR":"RTL",b=n+l);"C"===t.charAt(0)&&(l=f(k),"rtl"===l?t="RTL":"ltr"===l?(k=k.split(""),k.reverse(),l=f(k.join("")),t=l.toUpperCase()):t="L"===e.charAt(2)?
"LTR":"RTL",e=m+t)}if(b===e)return a;m=b.substring(0,1);k=b.substring(1,4);n=e.substring(0,1);t=e.substring(1,4);d.inFormat=b;d.outFormat=e;d.swap=h;if("L"===m&&"VLTR"===e){if("LTR"===k)return d.dir=P,g(a,d);if("RTL"===k)return d.dir=N,g(a,d)}if("V"===m&&"V"===n)return d.dir="RTL"===k?N:P,c(a,d);if("L"===m&&"VRTL"===e)return d.dir="LTR"===k?P:N,a=g(a,d),c(a);if("VLTR"===b&&"LLTR"===e)return d.dir=P,g(a,d);if("V"===m&&"L"===n&&k!==t)return a=c(a),"RTL"===k?p(a,"LLTR","VLTR",h,d):p(a,"LRTL","VRTL",
h,d);if("VRTL"===b&&"LRTL"===e)return p(a,"LRTL","VRTL",h,d);if("L"===m&&"L"===n)return b=d.swap,d.swap=b.substr(0,1)+"N","RTL"===k?(d.dir=N,a=g(a,d),d.swap="N"+b.substr(1,2),d.dir=P,a=g(a,d)):(d.dir=P,a=g(a,d),d.swap="N"+b.substr(1,2),a=p(a,"VLTR","LRTL",d.swap,d)),a}function f(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function g(a,c){var e=a.split(""),d=[];b(e,d,c);if(0!==c.hiLevel&&c.swap.substr(0,1)!==c.swap.substr(1,
2))for(var h=0;h<e.length;h++)if(1===d[h]){var f=h,g;b:{g=e[h];for(var k=void 0,l=0,m=C.length-1;l<=m;)if(k=Math.floor((l+m)/2),g<C[k][0])m=k-1;else if(g>C[k][0])l=k+1;else{g=C[k][1];break b}}e[f]=g}n(2,e,d,c);n(1,e,d,c);v=d;return e.join("")}function b(a,c,b){var e=a.length,d=b.dir?fa:ea,h=null,f=null,g=null,h=0,f=f=null,k=-1,l=f=null,n=[],m=[];b.hiLevel=b.dir;b.lastArabic=!1;b.hasUbatAl=!1;b.hasUbatB=!1;b.hasUbatS=!1;for(f=0;f<e;f++){var l=f,g=a[f].charCodeAt(0),p=qa[g>>8];n[l]=p<ca?p:ra[p-ca][g&
255]}for(l=0;l<e;l++){m[l]=f=t(a,n,m,l,b);h=d[h][f];f=h&240;h&=15;c[l]=g=d[h][z];if(0<f){if(16===f)for(f=k;f<l;f++)c[f]=1;k=-1}if(f=d[h][H])-1===k&&(k=l);else if(-1<k){for(f=k;f<l;f++)c[f]=g;k=-1}n[l]===ha&&(c[l]=0);b.hiLevel|=g}if(b.hasUbatS)for(a=0;a<e;a++)if(n[a]===ba)for(c[a]=b.dir,d=a-1;0<=d;d--)if(n[d]===la)c[d]=b.dir;else break}function c(a,c){var e=a.split("");if(c){var d=[];b(e,d,c);v=d}e.reverse();B.reverse();return e.join("")}function e(a){for(var c=0;c<V.length;c++)if(a>=V[c]&&a<=Y[c])return!0;
return!1}function h(a,c,b,d){for(;c*b<d&&x(a[c]);)c+=b;return c*b<d&&e(a[c])?!0:!1}function n(a,c,b,e){if(!(e.hiLevel<a))if(1!==a||e.dir!==N||e.hasUbatB){e=c.length;for(var d=0,h,f,g;d<e;){if(b[d]>=a){for(h=d+1;h<e&&b[h]>=a;)h++;for(f=h-1;d<f;d++,f--)g=c[d],c[d]=c[f],c[f]=g,g=B[d],B[d]=B[f],B[f]=g;d=h}d++}}else c.reverse(),B.reverse()}function t(a,c,b,e,d){return{UBAT_L:function(){d.lastArabic=!1;return ja},UBAT_R:function(){d.lastArabic=!1;return da},UBAT_ON:function(){return X},UBAT_AN:function(){return ga},
UBAT_EN:function(){return d.lastArabic?ga:Z},UBAT_AL:function(){d.lastArabic=!0;d.hasUbatAl=!0;return da},UBAT_WS:function(){return X},UBAT_CS:function(){var a,h;if(1>e||e+1>=c.length||(a=b[e-1])!==Z&&a!==ga||(h=c[e+1])!==Z&&h!==ga)return X;d.lastArabic&&(h=ga);return h===a?h:X},UBAT_ES:function(){return(0<e?b[e-1]:ha)===Z&&e+1<c.length&&c[e+1]===Z?Z:X},UBAT_ET:function(){if(0<e&&b[e-1]===Z)return Z;if(d.lastArabic)return X;for(var a=e+1,h=c.length;a<h&&c[a]===ma;)a++;return a<h&&c[a]===Z?Z:X},UBAT_NSM:function(){if("VLTR"===
d.inFormat){for(var h=c.length,f=e+1;f<h&&c[f]===na;)f++;if(f<h&&(h=a[e],f=c[f],(1425<=h&&2303>=h||64286===h)&&(f===da||f===ka)))return da}return 1>e||c[e-1]===ha?X:b[e-1]},UBAT_B:function(){d.lastArabic=!0;d.hasUbatB=!0;return d.dir},UBAT_S:function(){d.hasUbatS=!0;return X},UBAT_LRE:function(){d.lastArabic=!1;return X},UBAT_RLE:function(){d.lastArabic=!1;return X},UBAT_LRO:function(){d.lastArabic=!1;return X},UBAT_RLO:function(){d.lastArabic=!1;return X},UBAT_PDF:function(){d.lastArabic=!1;return X},
UBAT_BN:function(){return X}}[oa[c[e]]]()}function E(a,c){for(var b=0;b<I.length;b++)if(a===I[b])return c[b];return a}function x(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function A(a){if("L"===a)return"LTR";if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function w(a,c){for(var b=0;b<D.length;b++)if(a===D[b])return c[b];return a}function r(a,c,b,e){for(var d=0;d<a.length;d++)if(a[d]>c||!b&&a[d]===c)a[d]+=e}m.getObject("string",!0,dojox);m=a("dojox.string.BidiEngine",d,{inputFormat:"ILYNN",
outputFormat:"VLNNN",sourceToTarget:[],targetToSource:[],levels:[],bidiTransform:function(a,c,b){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var d=this.sourceToTarget,f=this.targetToSource,g=a.length;B=[];v=[];for(var k=0;k<g;k++)d[k]=k,f[k]=k,B[k]=k;if(!this.checkParameters(c,b))return a;c=this.inputFormat;b=this.outputFormat;var d=a,d=O,k=A(c.charAt(1)),f=A(b.charAt(1)),l="I"===c.charAt(0)?"L":c.charAt(0),g="I"===b.charAt(0)?"L":b.charAt(0),k=l+k,f=g+f,g=c.charAt(2)+b.charAt(2);
d.defInFormat=k;d.defOutFormat=f;d.defSwap=g;a=p(a,k,f,g,d);d=!1;if("R"===b.charAt(1))d=!0;else if("C"===b.charAt(1)||"D"===b.charAt(1))d=this.checkContextual(a);f=this.sourceToTarget=B;g=Array(f.length);for(k=0;k<f.length;k++)g[f[k]]=k;G=this.targetToSource=g;if(c.charAt(3)===b.charAt(3))d=a;else if("S"===b.charAt(3))if(c=d,b=!0,0===a.length)d=void 0;else{void 0===c&&(c=!0);void 0===b&&(b=!0);a=String(a);a=a.split("");var n=0,f=1,d=a.length;c||(n=a.length-1,f=-1,d=1);for(var g=d,k=b,m=0,d=[],l=0;n*
f<g;n+=f)if(e(a[n])||x(a[n])){var t;if(t="\u0644"===a[n])b:{for(var q=a,y=n+f,z=f,C=g;y*z<C&&x(q[y]);)y+=z;t=" ";if(y*z<C)for(t=q[y],q=0;q<D.length;q++)if(D[q]===t){t=!0;break b}t=!1}if(t){a[n]=0===m?w(a[n+f],u):w(a[n+f],Q);n+=f;m=a;t=n;q=f;for(y=g;t*q<y&&x(m[t]);)t+=q;t*q<y&&(m[t]=" ");k&&(d[l]=n,l++);m=0}else{t=a[n];if(1===m){q=n;if(h(a,n+f,f,g))b:for(y=a[n],z=0;z<I.length;z++){if(y===I[z]){y=T[z];break b}}else y=E(a[n],J);a[q]=y}else!0===h(a,n+f,f,g)?a[n]=E(a[n],S):a[n]=E(a[n],F);x(t)||(m=1);b:{for(q=
0;q<R.length;q++)if(R[q]===t){t=!0;break b}t=!1}!0===t&&(m=0)}}else m=0;f="";for(g=0;g<a.length;g++){if(k=b){b:{for(k=0;k<d.length;k++)if(d[k]===g)break b;k=-1}k=-1<k}k?(r(G,g,!c,-1),B.splice(g,1)):f+=a[g]}d=f}else if(c=a,b=d,a=!0,0===c.length)d=void 0;else for(void 0===a&&(a=!0),void 0===b&&(b=!0),c=String(c),d="",f=[],f=c.split(""),g=0;g<c.length;g++)k=!1,"\ufe70"<=f[g]&&"\ufeff">f[g]?(l=c.charCodeAt(g),"\ufef5"<=f[g]&&"\ufefc">=f[g]?(b?(0<g&&a&&" "===f[g-1]?d=d.substring(0,d.length-1)+"\u0644":
(d+="\u0644",k=!0),d+=D[(l-65269)/2]):(d+=D[(l-65269)/2],d+="\u0644",g+1<c.length&&a&&" "===f[g+1]?g++:k=!0),k&&(r(G,g,!0,1),B.splice(g,0,B[g]))):d+=U[l-65136]):d+=f[g];this.sourceToTarget=B;this.targetToSource=G;this.levels=v;return d},_inputFormatSetter:function(a){if(!y.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!y.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=
a},checkParameters:function(a,c){a?this.set("inputFormat",a):a=this.inputFormat;c?this.set("outputFormat",c):c=this.outputFormat;return a===c?!1:!0},checkContextual:function(a){a=f(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(sa){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return L.test(a)}});var B=[],G=[],v=[],O={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,
hasSegSep:!1},z=5,H=6,P=0,N=1,y=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,L=/[\u0591-\u06ff\ufb1d-\ufefc]/,C=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c",
"\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],D=["\u0622","\u0623","\u0625","\u0627"],u=["\ufef5","\ufef7","\ufef9","\ufefb"],Q=["\ufef6","\ufef8","\ufefa","\ufefc"],I="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),
F="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),J="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),
T="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),S="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),
R="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),U="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
V=["\u0621","\u0641"],Y=["\u063a","\u064a"],ea=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],fa=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ja=0,da=1,Z=2,ga=3,X=4,ha=5,ba=6,ka=7,la=8,ma=11,na=12,oa="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),ca=100;a=ja;d=da;var K=Z,W=ga,k=X,ia=ha,pa=ba,l=ka,aa=la,M=
ma,q=na,qa=[ca+0,a,a,a,a,ca+1,ca+2,ca+3,d,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,ca+4,k,k,k,a,k,a,k,a,k,k,k,a,a,k,k,a,a,a,a,a,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,a,a,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,a,a,k,k,a,a,k,k,a,a,k,k,k,k,k,k,k,k,k,k,k,k,
k,k,k,k,k,k,k,k,k,k,k,a,a,a,ca+5,l,l,ca+6,ca+7],ra=[[18,18,18,18,18,18,18,18,18,pa,ia,pa,aa,ia,18,18,18,18,18,18,18,18,18,18,18,18,18,18,ia,ia,ia,pa,aa,k,k,M,M,M,k,k,k,k,k,10,9,10,9,9,K,K,K,K,K,K,K,K,K,K,9,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,18,18,18,18,18,18,ia,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,k,M,M,M,M,k,k,k,k,a,k,k,18,k,k,M,M,K,K,k,a,k,k,k,K,a,k,k,k,
k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,a,a,a,a,a,a,a,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,a,k,k,k,k,k,k,k,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,
q,q,q,q,q,q,d,q,d,q,q,d,q,q,d,q,k,k,k,k,k,k,k,k,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,k,k,k,k,k,d,d,d,d,d,k,k,k,k,k,k,k,k,k,k,k],[W,W,W,W,k,k,k,k,l,M,M,l,9,l,k,k,q,q,q,q,q,q,q,q,q,q,q,l,k,k,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,W,W,W,W,W,W,W,W,W,W,M,W,W,l,l,l,q,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,
l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,q,q,q,q,q,q,q,W,k,q,q,q,q,q,q,l,l,q,q,k,q,q,q,q,l,l,K,K,K,K,K,K,K,K,K,K,l,l,l,l,l,l],[l,l,l,l,l,l,l,l,l,l,l,l,l,l,k,l,l,q,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,k,k,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,q,q,q,q,q,q,
q,q,q,q,q,l,k,k,k,k,k,k,k,k,k,k,k,k,k,k,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,q,q,q,q,q,q,q,q,q,d,d,k,k,k,k,d,k,k,k,k,k],[aa,aa,aa,aa,aa,aa,aa,aa,aa,aa,aa,18,18,18,a,d,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,aa,ia,13,14,15,16,17,9,M,M,M,M,M,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,9,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,aa,18,18,18,18,18,k,k,k,k,k,18,18,18,18,18,18,K,a,k,k,K,K,K,K,K,K,10,10,k,k,k,a,K,K,K,K,K,K,K,K,K,K,10,10,k,k,k,k,a,a,a,
a,a,a,a,a,a,a,a,a,a,k,k,k,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[a,a,a,a,a,a,a,k,k,k,k,k,k,k,k,k,k,k,k,a,a,a,a,a,k,k,k,k,k,d,q,d,d,d,d,d,d,d,d,d,d,10,d,d,d,d,d,d,d,d,d,d,d,d,d,k,d,d,d,d,d,k,d,k,d,d,k,d,d,k,d,d,d,d,d,d,d,d,d,d,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,
l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l],[q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,q,q,q,q,q,q,q,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,9,k,9,k,k,9,k,k,k,k,k,k,k,k,k,M,k,k,10,10,k,k,k,k,k,M,M,k,k,k,k,k,l,l,l,l,l,k,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,
l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,k,k,18],[k,k,k,M,M,M,k,k,k,k,k,10,9,10,9,9,K,K,K,K,K,K,K,K,K,K,9,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,a,a,a,a,a,a,k,k,a,a,a,a,a,a,k,k,a,a,a,a,a,a,k,k,a,a,a,k,k,k,M,M,k,k,k,M,M,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k]];return m})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(m,a,d,p){return m("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var d=this._attrPairNames;return d[a]?
d[a]:d[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,d){return"function"===typeof this[d.g]?this[d.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,d){if("object"===typeof a){for(var b in a)a.hasOwnProperty(b)&&"_watchCallbacks"!=b&&this.set(b,a[b]);return this}b=this._getAttrNames(a);var c=this._get(a,b);b=this[b.s];var e;"function"===typeof b?e=b.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=d;
if(this._watchCallbacks){var h=this;p(e,function(){h._watchCallbacks(a,c,d)})}return this},_changeAttrValue:function(a,d){var b=this.get(a);this[a]=d;this._watchCallbacks&&this._watchCallbacks(a,b,d);return this},watch:function(a,g){var b=this._watchCallbacks;if(!b)var c=this,b=this._watchCallbacks=function(a,e,d,h){var f=function(b){if(b){b=b.slice();for(var h=0,f=b.length;h<f;h++)b[h].call(c,a,e,d)}};f(b["_"+a]);h||f(b["*"])};g||"function"!==typeof a?a="_"+a:(g=a,a="*");var e=b[a];"object"!==typeof e&&
(e=b[a]=[]);e.push(g);var h={};h.unwatch=h.remove=function(){var a=d.indexOf(e,g);-1<a&&e.splice(a,1)};return h}})})},"esri/layers/vectorTiles/views/vectorTiles/TileClipper":function(){define(["require","exports","./Geometry","./GeometryUtils"],function(m,a,d,p){var f=function(){return function(a,c,e){this.ratio=a;this.x=c;this.y=e}}();m=function(){function a(a,b,d){this.dz=a;this.yPos=b;this.xPos=d}a.prototype.setExtent=function(a){this.finalRatio=4096/a*(1<<this.dz);var c;c=64/this.finalRatio;a>>=
this.dz;c>a&&(c=a);this.margin=c;this.xmin=a*this.xPos-c;this.ymin=a*this.yPos-c;this.xmax=this.xmin+a+2*c;this.ymax=this.ymin+a+2*c};a.prototype.reset=function(a){this.type=a;this._prevIsIn=!1;this.lines=[];this.line=null};a.prototype.moveTo=function(a,b){this._pushLine();this._prevIsIn=this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);this._prevPt=new d.Point(a,b);this._firstPt=new d.Point(a,b)};a.prototype.lineTo=function(a,b){var c=this._isIn(a,b),e,g,m,p,A,w;if(c)this._prevIsIn?this._lineTo(a,
b,!0):(e=this._prevPt,g=new d.Point(a,b),m=this._intersect(g,e),this._lineTo(m.x,m.y,!0),this._lineTo(g.x,g.y,!0));else{if(this._prevIsIn)g=this._prevPt,e=new d.Point(a,b),m=this._intersect(g,e),this._lineTo(m.x,m.y,!0);else{var r=this._prevPt;e=new d.Point(a,b);if(!(r.x<=this.xmin&&e.x<=this.xmin||r.x>=this.xmax&&e.x>=this.xmax||r.y<=this.ymin&&e.y<=this.ymin||r.y>=this.ymax&&e.y>=this.ymax)){g=[];if(r.x<this.xmin&&e.x>this.xmin||r.x>this.xmin&&e.x<this.xmin)m=(this.xmin-r.x)/(e.x-r.x),w=r.y+m*(e.y-
r.y),w<=this.ymin?A=!1:w>=this.ymax?A=!0:g.push(new f(m,this.xmin,w));if(r.x<this.xmax&&e.x>this.xmax||r.x>this.xmax&&e.x<this.xmax)m=(this.xmax-r.x)/(e.x-r.x),w=r.y+m*(e.y-r.y),w<=this.ymin?A=!1:w>=this.ymax?A=!0:g.push(new f(m,this.xmax,w));if(r.y<this.ymin&&e.y>this.ymin||r.y>this.ymin&&e.y<this.ymin)m=(this.ymin-r.y)/(e.y-r.y),w=r.x+m*(e.x-r.x),w<=this.xmin?p=!1:w>=this.xmax?p=!0:g.push(new f(m,w,this.ymin));if(r.y<this.ymax&&e.y>this.ymax||r.y>this.ymax&&e.y<this.ymax)m=(this.ymax-r.y)/(e.y-
r.y),w=r.x+m*(e.x-r.x),w<=this.xmin?p=!1:w>=this.xmax?p=!0:g.push(new f(m,w,this.ymax));if(0===g.length)p?A?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):A?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<g.length&&g[0].ratio>g[1].ratio)this._lineTo(g[1].x,g[1].y,!0),this._lineTo(g[0].x,g[0].y,!0);else for(m=0;m<g.length;m++)this._lineTo(g[m].x,g[m].y,!0)}}this._lineTo(e.x,e.y,!1)}this._prevIsIn=c;this._prevPt=new d.Point(a,b)};a.prototype.close=
function(){var a,b;0<this.line.length&&(a=this._firstPt,b=this._prevPt,a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y),a=this.line,b=a.length,4<=b&&(a[0].x===a[1].x&&a[0].x===a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)&&(a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y))};a.prototype.result=function(){this._pushLine();if(0===this.lines.length)return null;3===this.type&&g.simplify(this.margin*this.finalRatio,this.lines);return this.lines};a.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&
b<=this.ymax};a.prototype._intersect=function(a,b){var c,e;if(b.x>=this.xmin&&b.x<=this.xmax)e=b.y<=this.ymin?this.ymin:this.ymax,c=a.x+(e-a.y)/(b.y-a.y)*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,e=a.y+(c-a.x)/(b.x-a.x)*(b.y-a.y);else{e=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:this.xmax;var f=(c-a.x)/(b.x-a.x),g=(e-a.y)/(b.y-a.y);f<g?e=a.y+f*(b.y-a.y):c=a.x+g*(b.x-a.x)}return new d.Point(c,e)};a.prototype._pushLine=function(){this.line&&
(1===this.type?0<this.line.length&&this.lines.push(this.line):2===this.type?1<this.line.length&&this.lines.push(this.line):3===this.type&&3<this.line.length&&this.lines.push(this.line));this.line=[]};a.prototype._moveTo=function(a,b,h){3!==this.type?h&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new d.Point(a,b))):(h||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&
(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new d.Point(a,b)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,b,h){if(3!==this.type)if(h){a=Math.round((a-(this.xmin+this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(h=this.line[this.line.length-1],h.equals(a,b)))return;this.line.push(new d.Point(a,b))}else this.line&&0<this.line.length&&
this._pushLine();else if(h||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){h=this.line[this.line.length-1];var c=h.x===a,e=h.y===b;c&&e||(this._is_h&&c?(h.x=a,h.y=b,h=this.line[this.line.length-2],this._is_h=h.x===a,this._is_v=h.y===b):this._is_v&&e?(h.x=a,h.y=b,h=this.line[this.line.length-
2],this._is_h=h.x===a,this._is_v=h.y===b):(this.line.push(new d.Point(a,b)),this._is_h=c,this._is_v=e))}else this.line.push(new d.Point(a,b))};return a}();a.TileClipper=m;m=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);this.line=[];var c=this._ratio;this.line.push(new d.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.lineTo=
function(a,b){var c=this._ratio;this.line.push(new d.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&g.simplify(64,this.lines);return this.lines};return a}();a.SimpleBuilder=m;var g=function(){function a(){}a.simplify=function(b,e){if(e){for(var c=-b,d=4096+b,f=-b,g=4096+b,m=[],
p=[],w=e.length,r=0;r<w;++r){var B=e[r];if(B&&!(2>B.length))for(var G=B[0],v=void 0,O=B.length,z=1;z<O;++z)v=B[z],G.x===v.x&&(G.x<=c&&(G.y>v.y?(m.push(r),m.push(z),m.push(0),m.push(-1)):(p.push(r),p.push(z),p.push(0),p.push(-1))),G.x>=d&&(G.y<v.y?(m.push(r),m.push(z),m.push(1),m.push(-1)):(p.push(r),p.push(z),p.push(1),p.push(-1)))),G.y===v.y&&(G.y<=f&&(G.x<v.x?(m.push(r),m.push(z),m.push(2),m.push(-1)):(p.push(r),p.push(z),p.push(2),p.push(-1))),G.y>=g&&(G.x>v.x?(m.push(r),m.push(z),m.push(3),m.push(-1)):
(p.push(r),p.push(z),p.push(3),p.push(-1)))),G=v}0!==m.length&&0!==p.length&&(a.fillParent(e,p,m),a.fillParent(e,m,p),c=[],a.calcDeltas(c,p,m),a.calcDeltas(c,m,p),a.addDeltas(c,e))}};a.fillParent=function(a,b,d){for(var c=d.length,e=b.length,h=0;h<e;h+=4){for(var f=b[h],g=b[h+1],m=b[h+2],r=a[f][g-1],f=a[f][g],g=8092,B=-1,G=0;G<c;G+=4)if(d[G+2]===m){var v=d[G],O=d[G+1],z=a[v][O-1],v=a[v][O];switch(m){case 0:case 1:p.between(r.y,z.y,v.y)&&p.between(f.y,z.y,v.y)&&(z=Math.abs(v.y-z.y),z<g&&(g=z,B=G));
break;case 2:case 3:p.between(r.x,z.x,v.x)&&p.between(f.x,z.x,v.x)&&(z=Math.abs(v.x-z.x),z<g&&(g=z,B=G))}}b[h+3]=B}};a.calcDeltas=function(b,d,h){for(var c=d.length,e=0;e<c;e+=4){var f=a.calcDelta(e,d,h,[]);b.push(d[e]);b.push(d[e+1]);b.push(d[e+2]);b.push(f)}};a.calcDelta=function(b,d,f,g){b=d[b+3];if(-1===b)return 0;var c=g.length;if(1<c&&g[c-2]===b)return 0;g.push(b);return a.calcDelta(b,f,d,g)+1};a.addDeltas=function(a,b){for(var c=a.length,d=0,e=0;e<c;e+=4){var f=a[e+3];f>d&&(d=f)}for(e=0;e<
c;e+=4){var g=b[a[e]],m=a[e+1],f=d-a[e+3];switch(a[e+2]){case 0:g[m-1].x-=f;g[m].x-=f;break;case 1:g[m-1].x+=f;g[m].x+=f;break;case 2:g[m-1].y-=f;g[m].y-=f;break;case 3:g[m-1].y+=f,g[m].y+=f}}c=b.length;for(d=0;d<c;++d)g=b[d],!g||2>g.length||g[g.length-1].x!==g[0].x&&g[g.length-1].y!==g[0].y&&g.push(g[0])};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleRepository":function(){define(["require","exports","./StyleLayer"],function(m,a,d){return function(){function a(d,g){this.styleJSON=
d;this.version=parseFloat(d.version);this.sprite=g?g.spriteUrl:d.sprite;this.glyphs=g?g.glyphsUrl:d.glyphs;this.layers=(d.layers||[]).map(a._create);this._identifyRefLayers()}a.prototype._identifyRefLayers=function(){for(var a=[],d=[],b=0,c=this.layers;b<c.length;b++){var e=c[b];if(1===e.type){var h=e.sourceLayer,h=h+("|"+JSON.stringify(e.minzoom)),h=h+("|"+JSON.stringify(e.maxzoom)),h=h+("|"+JSON.stringify(e.filter));a.push({key:h,layer:e})}2===e.type&&(h=e.sourceLayer,h+="|"+JSON.stringify(e.minzoom),
h+="|"+JSON.stringify(e.maxzoom),h+="|"+JSON.stringify(e.filter),h+="|"+JSON.stringify(e.layout["line-cap"]),h+="|"+JSON.stringify(e.layout["line-join"]),d.push({key:h,layer:e}))}this._assignRefLayers(a);this._assignRefLayers(d)};a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var d,b,c=a.length,e=0;e<c;e++){var f=a[e];if(f.key===d)f.layer.refLayerId=b;else if(d=f.key,b=f.layer.id,1===f.layer.type&&!f.layer.hasPaintProperty("fill-outline-color"))for(var m=
e+1;m<c;m++){var p=a[m];if(p.key===d){if(p.layer.hasPaintProperty("fill-outline-color")){a[e]=p;a[m]=f;b=p.layer.id;break}}else break}}};a._create=function(a,g,b){g=1-1/(b.length+1)*(1+g);switch(a.type){case "background":return new d.StyleLayer(0,a,g);case "fill":return new d.StyleLayer(1,a,g);case "line":return new d.StyleLayer(2,a,g);case "symbol":return new d.StyleLayer(3,a,g);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":throw Error("Unsupported vector tile circle layer");
}throw Error("Unknown vector tile layer");};return a}()})}}});define("esri/layers/vectorTiles/core/workers/worker-init",[],1);