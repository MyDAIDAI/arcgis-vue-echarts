// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.20/esri/copyright.txt for details.
//>>built
require({cache:{"esri/arcgis/csv":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/sniff dojo/number dojox/data/CsvStore ../kernel ../config ../request ../SpatialReference ../geometry/jsonUtils ../geometry/webMercatorUtils".split(" "),function(m,c,r,n,h,d,a,e,g,b,f,p){function k(a){var b=0,f="";c.forEach([","," ",";","|","\t"],function(e){var t=a.split(e).length;t>b&&(b=t,f=e)});return f}function D(a,b){if(!a||"[object Date]"!==Object.prototype.toString.call(a)||isNaN(a.getTime()))return!1;
var f=!0;if(n("chrome")&&/\d+\W*$/.test(b)){if(b.match(/[^0-9a-zA-Z\s]/))return!1;var e=b.match(/[a-zA-Z]{2,}/);if(e){for(var f=!1,g=0,t=e.length,c=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i;!f&&g<=t&&!(f=!c.test(e[g]));)g++;f=!f}}return f}function q(a,b,f){var e=a.indexOf("\n"),e=m.trim(a.substr(0,e)),g=b.columnDelimiter;g||(g=k(e));var t=new d({data:a,separator:g});t.fetch({onComplete:function(a,
e){var g=0,k={layerDefinition:b.layerDefinition,featureSet:{features:[],geometryType:"esriGeometryPoint"}},d=k.layerDefinition.objectIdField,p=k.layerDefinition.fields;d||c.some(p,function(a){return"esriFieldTypeOID"===a.type?(d=a.name,!0):!1})||(p.push({name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1}),d="__OBJECTID");var v,l,q=t._attributes,r=[],x=[];c.forEach(p,function(a){"esriFieldTypeDate"===a.type?r.push(a.name):"esriFieldTypeDouble"!==a.type&&"esriFieldTypeInteger"!==
a.type||x.push(a.name)});b.locationInfo&&"coordinates"===b.locationInfo.locationType?(v=b.locationInfo.latitudeFieldName,l=b.locationInfo.longitudeFieldName):c.forEach(q,function(a){var b;b=c.indexOf(A,a.toLowerCase());-1!==b&&(v=a);b=c.indexOf(B,a.toLowerCase());-1!==b&&(l=a)});if(v&&l){-1===c.indexOf(x,v)&&x.push(v);-1===c.indexOf(x,l)&&x.push(l);var w;m.isArray(b.outFields)&&-1===c.indexOf(b.outFields,"*")&&(w=b.outFields);c.forEach(q,function(a){c.some(p,function(b){return a===b.name})||p.push({name:a,
alias:a,type:a===v||a===l?"esriFieldTypeDouble":"esriFieldTypeString"})});var q=0,n=a.length;for(q;q<n;q++){var y=a[q],z=t.getAttributes(y),u={};c.forEach(z,function(a){if(a&&(a===v||a===l||!w||-1<c.indexOf(w,a))){var b=a;0===a.length&&c.forEach(p,function(b,f){b.name==="attribute_"+(f-1)&&(a="attribute_"+(f-1))});if(-1<c.indexOf(r,a)){var b=t.getValue(y,b),f=new Date(b);u[a]=D(f,b)?f.getTime():null}else-1<c.indexOf(x,a)?(f=h.parse(t.getValue(y,b)),a!==v&&a!==l||!(isNaN(f)||181<Math.abs(f))||(f=parseFloat(t.getValue(y,
b))),isNaN(f)?u[a]=null:u[a]=f):u[a]=t.getValue(y,b)}});u[d]=g;g++;var z=u[v],C=u[l];null==C||null==z||isNaN(z)||isNaN(C)||(w&&-1===c.indexOf(w,v)&&delete u[v],w&&-1===c.indexOf(w,l)&&delete u[l],k.featureSet.features.push({geometry:{x:C,y:z,spatialReference:{wkid:4326}},attributes:u}))}k.layerDefinition.name="csv";f&&f(k)}else setTimeout(function(){console.error("File does not seem to contain fields with point coordinates.")},1),f&&f(null,Error("File does not seem to contain fields with point coordinates."))},
onError:function(a){console.error("Error fetching items from CSV store: ",a);f&&f(null,a)}});return!0}function l(a,b,g,k,d,l){0===a.length&&d(null);var t=f.getGeometryType(b),q=[];c.forEach(a,function(a){a=new t(a);a.spatialReference=g;q.push(a)},this);b=[102113,102100,3857];g.wkid&&4326===g.wkid&&k.wkid&&-1<c.indexOf(b,k.wkid)?(c.forEach(q,function(a){a.xmin?(a.xmin=Math.max(a.xmin,-180),a.xmax=Math.min(a.xmax,180),a.ymin=Math.max(a.ymin,-89.99),a.ymax=Math.min(a.ymax,89.99)):a.rings?c.forEach(a.rings,
function(a){c.forEach(a,function(a){a[0]=Math.min(Math.max(a[0],-180),180);a[1]=Math.min(Math.max(a[1],-89.99),89.99)},this)},this):a.paths?c.forEach(a.paths,function(a){c.forEach(a,function(a){a[0]=Math.min(Math.max(a[0],-180),180);a[1]=Math.min(Math.max(a[1],-89.99),89.99)},this)},this):a.x&&(a.x=Math.min(Math.max(a.x,-180),180),a.y=Math.min(Math.max(a.y,-89.99),89.99))},this),a=[],c.forEach(q,function(b){b=p.geographicToWebMercator(b);102100!==k.wkid&&(b.spatialReference=k);a.push(b.toJson())},
this),d(a)):null!==g.wkid&&-1<c.indexOf(b,g.wkid)&&null!==k.wkid&&4326===k.wkid?(a=[],c.forEach(q,function(b){a.push(p.webMercatorToGeographic(b).toJson())},this),d(a)):(b=function(b,f){b&&b.length===a.length?(a=[],c.forEach(b,function(b){b&&(b.rings&&0<b.rings.length&&0<b.rings[0].length&&0<b.rings[0][0].length&&!isNaN(b.rings[0][0][0])&&!isNaN(b.rings[0][0][1])||b.paths&&0<b.paths.length&&0<b.paths[0].length&&0<b.paths[0][0].length&&!isNaN(b.paths[0][0][0])&&!isNaN(b.paths[0][0][1])||b.xmin&&!isNaN(b.xmin)&&
b.ymin&&!isNaN(b.ymin)||b.x&&!isNaN(b.x)&&b.y&&!isNaN(b.y))?a.push(b.toJson()):a.push(null)},this),d(a)):l(b,f)},e.defaults.geometryService?e.defaults.geometryService.project(q,k,m.hitch(this,b),l):d(null))}function E(a,b){var f=[102113,102100,3857];return a&&b&&a.wkid===b.wkid&&a.wkt===b.wkt||a&&b&&a.wkid&&b.wkid&&-1<c.indexOf(f,a.wkid)&&-1<c.indexOf(f,b.wkid)?!0:!1}function u(a,e,g,k){if(a.featureSet&&0!==a.featureSet.features.length)if(E(g,e))k(a);else{var d,p=function(b){var f=[];c.forEach(a.featureSet.features,
function(a,e){b[e]&&(a.geometry=b[e],f.push(a))},this);k(a)},q=function(b,f){console.error("error projecting featureSet ("+a.layerDefinition.name+"). Final try.");k(a)},h=function(b,f){console.error("error projecting featureSet ("+a.layerDefinition.name+"). Try one more time.");l(d,a.featureSet.geometryType,e,g,m.hitch(this,p),m.hitch(this,q))};a.featureSet.features&&0<a.featureSet.features.length?(d=[],c.forEach(a.featureSet.features,function(b){if(b.geometry.toJson)d.push(b.geometry);else{var e=
f.getGeometryType(a.featureSet.geometryType);d.push(new e(b.geometry))}}),e.toJson||(e=new b(e)),g.toJson||(g=new b(g)),l(d,a.featureSet.geometryType,e,g,m.hitch(this,p),m.hitch(this,h))):k(a)}}var A="lat latitude y ycenter latitude83 latdecdeg point-y lat_dd".split(" "),B="lon lng long longitude x xcenter longitude83 longdecdeg point-x long_dd".split(" "),F={latFieldStrings:A,longFieldStrings:B,buildCSVFeatureCollection:function(a){var b=new r,f=function(a,f){f?b.errback(f):b.callback(a)},e={url:a.url,
handleAs:"text",load:function(b){q(b,a,m.hitch(this,f))},error:function(a){b.errback(a);console.error("error: "+a)}};-1<a.url.indexOf("arcgis.com")&&-1<a.url.indexOf("/content/items")&&-1<a.url.indexOf("/data")&&(e.headers={"Content-Type":""});g(e,{usePost:!1});return b},projectFeatureCollection:function(a,f,e){var g=new r;e||(e=new b({wkid:4326}));u(a,e,f,m.hitch(this,function(a){g.callback(a)}));return g},generateDefaultPopupInfo:function(a){var b={esriFieldTypeDouble:1,esriFieldTypeSingle:1},f=
{esriFieldTypeInteger:1,esriFieldTypeSmallInteger:1},e={esriFieldTypeDate:1},g=null;a=c.map(a.layerDefinition.fields,m.hitch(this,function(a){"NAME"===a.name.toUpperCase()&&(g=a.name);var k="esriFieldTypeOID"!==a.type&&"esriFieldTypeGlobalID"!==a.type&&"esriFieldTypeGeometry"!==a.type,d=null;if(k){var c=a.name.toLowerCase();if(-1<",stretched value,fnode_,tnode_,lpoly_,rpoly_,poly_,subclass,subclass_,rings_ok,rings_nok,".indexOf(","+c+",")||-1<c.indexOf("area")||-1<c.indexOf("length")||-1<c.indexOf("shape")||
-1<c.indexOf("perimeter")||-1<c.indexOf("objectid")||c.indexOf("_")===c.length-1||c.indexOf("_i")===c.length-2&&1<c.length)k=!1;a.type in f?d={places:0,digitSeparator:!0}:a.type in b?d={places:2,digitSeparator:!0}:a.type in e&&(d={dateFormat:"shortDateShortTime"})}return m.mixin({},{fieldName:a.name,label:a.alias,isEditable:!0,tooltip:"",visible:k,format:d,stringFieldOption:"textbox"})}));return{title:g?"{"+g+"}":"",fieldInfos:a,description:null,showAttachments:!1,mediaInfos:[]}},_getSeparator:k,
_isValidDate:D,_processCsvData:q,_projectGeometries:l,_sameSpatialReference:E,_projectFeatureSet:u};n("extend-esri")&&m.setObject("arcgis.csv",F,a);return F})},"dojox/data/CsvStore":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/xhr dojo/_base/kernel dojo/data/util/filter dojo/data/util/simpleFetch".split(" "),function(m,c,r,n,h,d){c=c("dojox.data.CsvStore",null,{constructor:function(a){this._attributes=[];this._attributeIndexes={};this._dataArray=[];this._arrayOfAllItems=[];this._loadFinished=
!1;a.url&&(this.url=a.url);this._csvData=a.data;a.label?this.label=a.label:""===this.label&&(this.label=void 0);this._storeProp="_csvStore";this._idProp="_csvId";this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._loadInProgress=!1;this._queuedFetches=[];this.identifier=a.identifier;""===this.identifier?delete this.identifier:this._idMap={};"separator"in a&&(this.separator=a.separator);"urlPreventCache"in a&&(this.urlPreventCache=a.urlPreventCache?!0:!1)},url:"",label:"",identifier:"",
separator:",",urlPreventCache:!1,_assertIsItem:function(a){if(!this.isItem(a))throw Error(this.declaredClass+": a function was passed an item argument that was not an item");},_getIndex:function(a){a=this.getIdentity(a);this.identifier&&(a=this._idMap[a]);return a},getValue:function(a,e,g){this._assertIsItem(a);var b=g;if("string"===typeof e)e=this._attributeIndexes[e],null!=e&&(b=this._dataArray[this._getIndex(a)][e]||g);else throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");
return b},getValues:function(a,e){var g=this.getValue(a,e);return g?[g]:[]},getAttributes:function(a){this._assertIsItem(a);var e=[];a=this._dataArray[this._getIndex(a)];for(var g=0;g<a.length;g++)""!==a[g]&&e.push(this._attributes[g]);return e},hasAttribute:function(a,e){this._assertIsItem(a);if("string"===typeof e){var g=this._attributeIndexes[e],b=this._dataArray[this._getIndex(a)];return"undefined"!==typeof g&&g<b.length&&""!==b[g]}throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");
},containsValue:function(a,e,g){var b=void 0;"string"===typeof g&&(b=h.patternToRegExp(g,!1));return this._containsValue(a,e,g,b)},_containsValue:function(a,e,g,b){a=this.getValues(a,e);for(e=0;e<a.length;++e){var f=a[e];if("string"===typeof f&&b)return null!==f.match(b);if(g===f)return!0}return!1},isItem:function(a){if(a&&a[this._storeProp]===this)if(a=a[this._idProp],this.identifier){if(this._dataArray[this._idMap[a]])return!0}else if(0<=a&&a<this._dataArray.length)return!0;return!1},isItemLoaded:function(a){return this.isItem(a)},
loadItem:function(a){},getFeatures:function(){return this._features},getLabel:function(a){if(this.label&&this.isItem(a))return this.getValue(a,this.label)},getLabelAttributes:function(a){return this.label?[this.label]:null},_fetchItems:function(a,e,g){var b=this,f=function(a,f){var g=null;if(a.query){var c,d,g=[],k=a.queryOptions?a.queryOptions.ignoreCase:!1,p={};for(c in a.query)d=a.query[c],"string"===typeof d&&(p[c]=h.patternToRegExp(d,k));for(k=0;k<f.length;++k){var l=!0,q=f[k];for(c in a.query)d=
a.query[c],b._containsValue(q,c,d,p[c])||(l=!1);l&&g.push(q)}}else g=f.slice(0,f.length);e(g,a)};if(this._loadFinished)f(a,this._arrayOfAllItems);else if(""!==this.url)if(this._loadInProgress)this._queuedFetches.push({args:a,filter:f});else{this._loadInProgress=!0;var c=r.get({url:b.url,handleAs:"text",preventCache:b.urlPreventCache});c.addCallback(function(e){try{b._processData(e),f(a,b._arrayOfAllItems),b._handleQueuedFetches()}catch(l){g(l,a)}});c.addErrback(function(f){b._loadInProgress=!1;if(g)g(f,
a);else throw f;});var k=null;a.abort&&(k=a.abort);a.abort=function(){var b=c;b&&-1===b.fired&&(b.cancel(),b=null);k&&k.call(a)}}else if(this._csvData)try{this._processData(this._csvData),this._csvData=null,f(a,this._arrayOfAllItems)}catch(q){g(q,a)}else{var d=Error(this.declaredClass+": No CSV source data was provided as either URL or String data input.");if(g)g(d,a);else throw d;}},close:function(a){},_getArrayOfArraysFromCsvFileContents:function(a){if(m.isString(a)){var e=RegExp("^\\s+","g"),g=
RegExp("\\s+$","g"),b=RegExp('""',"g"),f=[],c=this._splitLines(a);for(a=0;a<c.length;++a){var d=c[a];if(0<d.length){for(var d=d.split(this.separator),h=0;h<d.length;){var q=d[h].replace(e,""),l=q.replace(g,""),r=l.charAt(0),n=l.charAt(l.length-1),A=l.charAt(l.length-2),B=l.charAt(l.length-3);if(2===l.length&&'""'==l)d[h]="";else if('"'==r&&('"'!=n||'"'==n&&'"'==A&&'"'!=B)){if(h+1===d.length)return;d[h]=q+this.separator+d[h+1];d.splice(h+1,1)}else'"'==r&&'"'==n&&(l=l.slice(1,l.length-1),l=l.replace(b,
'"')),d[h]=l,h+=1}f.push(d)}}this._attributes=f.shift();for(a=0;a<this._attributes.length;a++)this._attributeIndexes[this._attributes[a]]=a;this._dataArray=f}},_splitLines:function(a){var e=[],g,b="",f=!1;for(g=0;g<a.length;g++){var d=a.charAt(g);switch(d){case '"':f=!f;b+=d;break;case "\r":f?b+=d:(e.push(b),b="",g<a.length-1&&"\n"==a.charAt(g+1)&&g++);break;case "\n":f?b+=d:(e.push(b),b="");break;default:b+=d}}""!==b&&e.push(b);return e},_processData:function(a){this._getArrayOfArraysFromCsvFileContents(a);
this._arrayOfAllItems=[];if(this.identifier&&void 0===this._attributeIndexes[this.identifier])throw Error(this.declaredClass+": Identity specified is not a column header in the data set.");for(a=0;a<this._dataArray.length;a++){var e=a;this.identifier&&(e=this._dataArray[a][this._attributeIndexes[this.identifier]],this._idMap[e]=a);this._arrayOfAllItems.push(this._createItemFromIdentity(e))}this._loadFinished=!0;this._loadInProgress=!1},_createItemFromIdentity:function(a){var e={};e[this._storeProp]=
this;e[this._idProp]=a;return e},getIdentity:function(a){return this.isItem(a)?a[this._idProp]:null},fetchItemByIdentity:function(a){var e,d=a.scope?a.scope:n.global;if(this._loadFinished)e=this._createItemFromIdentity(a.identity),this.isItem(e)||(e=null),a.onItem&&a.onItem.call(d,e);else{var b=this;if(""!==this.url)this._loadInProgress?this._queuedFetches.push({args:a}):(this._loadInProgress=!0,e=r.get({url:b.url,handleAs:"text"}),e.addCallback(function(f){try{b._processData(f);var e=b._createItemFromIdentity(a.identity);
b.isItem(e)||(e=null);a.onItem&&a.onItem.call(d,e);b._handleQueuedFetches()}catch(k){a.onError&&a.onError.call(d,k)}}),e.addErrback(function(b){this._loadInProgress=!1;a.onError&&a.onError.call(d,b)}));else if(this._csvData)try{b._processData(b._csvData),b._csvData=null,e=b._createItemFromIdentity(a.identity),b.isItem(e)||(e=null),a.onItem&&a.onItem.call(d,e)}catch(f){a.onError&&a.onError.call(d,f)}}},getIdentityAttributes:function(a){return this.identifier?[this.identifier]:null},_handleQueuedFetches:function(){if(0<
this._queuedFetches.length){for(var a=0;a<this._queuedFetches.length;a++){var e=this._queuedFetches[a],d=e.filter,b=e.args;d?d(b,this._arrayOfAllItems):this.fetchItemByIdentity(e.args)}this._queuedFetches=[]}}});m.extend(c,d);return c})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(m){var c={};m.setObject("dojo.data.util.filter",c);c.patternToRegExp=function(c,n){for(var h="^",d=null,a=0;a<c.length;a++)switch(d=c.charAt(a),d){case "\\":h+=d;a++;h+=c.charAt(a);break;case "*":h+=
".*";break;case "?":h+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":h+="\\";default:h+=d}h+="$";return n?new RegExp(h,"mi"):new RegExp(h,"m")};return c})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(m,c,r){var n={};m.setObject("dojo.data.util.simpleFetch",n);n.errorHandler=function(h,d){d.onError&&d.onError.call(d.scope||c.global,h,d)};n.fetchHandler=function(h,
d){var a=d.abort||null,e=!1,g=d.start?d.start:0,b=d.count&&Infinity!==d.count?g+d.count:h.length;d.abort=function(){e=!0;a&&a.call(d)};var f=d.scope||c.global;d.store||(d.store=this);d.onBegin&&d.onBegin.call(f,h.length,d);d.sort&&h.sort(r.createSortFunction(d.sort,this));if(d.onItem)for(var p=g;p<h.length&&p<b;++p){var k=h[p];e||d.onItem.call(f,k,d)}d.onComplete&&!e&&(p=null,d.onItem||(p=h.slice(g,b)),d.onComplete.call(f,p,d))};n.fetch=function(c){c=c||{};c.store||(c.store=this);this._fetchItems(c,
m.hitch(this,"fetchHandler"),m.hitch(this,"errorHandler"));return c};return n})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(m){var c={};m.setObject("dojo.data.util.sorter",c);c.basicComparator=function(c,n){var h=-1;null===c&&(c=void 0);null===n&&(n=void 0);if(c==n)h=0;else if(c>n||null==c)h=1;return h};c.createSortFunction=function(m,n){function h(a,b,f,d){return function(e,c){var g=d.getValue(e,a),k=d.getValue(c,a);return b*f(g,k)}}for(var d=[],a,e=n.comparatorMap,g=
c.basicComparator,b=0;b<m.length;b++){a=m[b];var f=a.attribute;if(f){a=a.descending?-1:1;var p=g;e&&("string"!==typeof f&&"toString"in f&&(f=f.toString()),p=e[f]||g);d.push(h(f,a,p,n))}}return function(a,b){for(var f=0;f<d.length;){var e=d[f++](a,b);if(0!==e)return e}return 0}};return c})},"*noref":1}});
define("esri/layers/CSVLayer","dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../arcgis/csv ./FeatureLayer ../geometry/Extent ../tasks/FeatureSet".split(" "),function(m,c,r,n,h,d,a,e,g){c=c(a,{declaredClass:"esri.layers.CSVLayer",_preventInit:!0,_fieldTypeMap:{Date:"esriFieldTypeDate",Number:"esriFieldTypeDouble",String:"esriFieldTypeString"},constructor:function(a,f){this.url=a;f=r.mixin({},f);this.columnDelimiter=f.columnDelimiter;this.latitudeFieldName=f.latitudeFieldName;
this.longitudeFieldName=f.longitudeFieldName;var b=f.layerDefinition;b||(b={fields:f.fields||[],geometryType:"esriGeometryPoint",copyrightText:f.copyright},f.fields&&m.forEach(f.fields,function(a){a.type=this._fieldTypeMap[a.type||"String"];a.alias||(a.alias=a.name)},this));this._buildCsvFcParam={url:this.url,columnDelimiter:this.columnDelimiter,layerDefinition:b,outFields:f.outFields};this.latitudeFieldName&&this.longitudeFieldName&&(this._buildCsvFcParam.locationInfo={locationType:"coordinates",
latitudeFieldName:this.latitudeFieldName,longitudeFieldName:this.longitudeFieldName});this._projectFeatures=r.hitch(this,this._projectFeatures);this._addFeatures=r.hitch(this,this._addFeatures);this._initCSVLayer(f)},refresh:function(){this._fireUpdateStart();this.applyEdits(null,null,this.graphics);this._loadFeatures()},_setMap:function(a){var b=this.inherited(arguments);this._fireUpdateStart();this._projectFeatures(this._csvFC).then(this._addFeatures).otherwise(this._errorHandler);this._csvFC=null;
return b},_initCSVLayer:function(a){var b=this;d.buildCSVFeatureCollection(this._buildCsvFcParam).then(function(f){b._csvFC=f;var e=f.layerDefinition;e.extent=b._getFCExtent(f);a.outFields||(a.outFields=["*"]);b._initFeatureLayer({layerDefinition:e},a)}).otherwise(this._errorHandler)},_loadFeatures:function(){d.buildCSVFeatureCollection(this._buildCsvFcParam).then(this._projectFeatures).then(this._addFeatures).otherwise(this._errorHandler)},_projectFeatures:function(a){return d.projectFeatureCollection(a,
this._map.spatialReference)},_addFeatures:function(a){a=new g(a.featureSet);this.applyEdits(a.features,null,null);this._fireUpdateEnd()},_getFCExtent:function(a){var b;if(a&&a.featureSet&&a.featureSet.features){a=a.featureSet.features;var d=a.length;if(1<d){var c=a[0].geometry;b=new e(c.x,c.y,c.x,c.y);for(--d;0<d;d--)c=a[d].geometry,b.xmin=Math.min(b.xmin,c.x),b.ymin=Math.min(b.ymin,c.y),b.xmax=Math.max(b.xmax,c.x),b.ymax=Math.max(b.ymax,c.y);0>=b.getWidth()&&0>=b.getHeight()&&(b=null)}}return b}});
n("extend-esri")&&r.setObject("layers.CSVLayer",c,h);return c});